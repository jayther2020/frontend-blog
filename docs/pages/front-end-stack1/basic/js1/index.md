# JSåŸºç¡€

![å¾®ä¿¡å›¾ç‰‡_20221118110901](./index.assets/å¾®ä¿¡å›¾ç‰‡_20221118110901.jpg)

## è¿ç®—ç¬¦

`void()`ï¼šæ‰§è¡Œå…¶ä¸­è¡¨è¾¾å¼

`+`è¿ç®—ç¬¦ï¼šâ‘ è¡¨åŠ æ³•â‘¡å°†å³è¾¹å˜é‡è½¬åŒ–ä¸ºæ•°å­—ç±»å‹

```js
+""  //0
```

`,`è¿ç®—ç¬¦ï¼šæ‰§è¡Œè¡¨è¾¾å¼ï¼Œå¹¶è¿”å›æœ€åè¡¨è¾¾å¼çš„å€¼ã€‚

```js
let a = 1
a++, a*=3, a-- //6
a //5
```

`typeof`ï¼šæ­¤è¿ç®—ç¬¦è¿”å›è·Ÿç€çš„å˜é‡çš„æ•°æ®ç±»å‹ï¼Œè€Œå®ƒä¸èƒ½è¾¨åˆ«æŸä¸ªå¯¹è±¡æ˜¯ä¸ªå¯¹è±¡è¿˜æ˜¯æ•°ç»„ã€‚

è¦è¾¨åˆ«ä¸åŒå¯¹è±¡çš„è¯è¿˜éœ€è¦`instanceof`è¿ç®—ç¬¦æˆ–è€…`Object.prototype.toString.call()`æ–¹æ³•

```js
/****1.åŸºæœ¬æ•°æ®ç±»å‹****/
typeof undefined   //'undefined'
typeof null   //'object'
typeof 1   //'number'
typeof ""   //'string'
typeof true   //'boolean'
typeof 18478230117n   //'bigint'
typeof Symbol()   //'symbol'

/****2.å¼•ç”¨æ•°æ®ç±»å‹****/
typeof []   //'object'
typeof {}   //'object'
typeof function(){}   //'function'
typeof class {}   //'function'
typeof new Map()   //'object'
typeof new WeakMap()   //'object'
typeof new Set()   //'object'
typeof new WeakSet()   //'object'
typeof new Proxy({},{})  //'object'
typeof /a/   //'object'
```

`isNaN()`ï¼šè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œè€Œå‡½æ•°ä¼šå¸®æˆ‘ä»¬ç¡®å®šè¿™ä¸ªå‚æ•°æ˜¯å¦â€œä¸æ˜¯æ•°å€¼â€ã€‚

> å®ƒåœ¨æ¥å—ä¸€ä¸ªå€¼åä¹‹åï¼Œä¼šå°è¯•å°†è¿™ä¸ªå€¼è½¬æ¢ä¸ºæ•°å€¼ã€‚
>
> æŸäº›ä¸æ˜¯æ•°å€¼çš„å€¼*ä¼šç›´æ¥è½¬æ¢ä¸ºæ•°å€¼*ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²"10"æˆ–Booleanå€¼ï¼ˆfalse, falseï¼‰ã€‚
>
> è€Œä»»ä½•==ä¸èƒ½è¢«è½¬æ¢ä¸ºæ•°å€¼çš„å€¼==éƒ½ä¼šå¯¼è‡´è¿™ä¸ªå‡½æ•°è¿”å›==true==ã€‚ 

`parseInt()`/`parseFloat()`ï¼šå¯ä»¥è§£æä»¥æ•°å­—å¼€å¤´çš„éƒ¨åˆ†æ•°å­—å­—ç¬¦ä¸²(â¾®æ•°å­—éƒ¨åˆ†å­—ç¬¦ä¸²åœ¨è½¬æ¢è¿‡ç¨‹ä¸­ä¼šè¢«å»é™¤)ã€‚

> `parseFloat()`å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢æˆæµ®ç‚¹æ•°ï¼›ä½†åŒæ—¶ï¼Œ`parseFloat()`åªæ¥å—â¼€ä¸ªå‚æ•°ï¼Œä¸”è¯¥æ–¹å¿½ç•¥å‰å¯¼0ã€‚
>
>  ï¼ˆ1ï¼‰å­—ç¬¦ä¸²ä¸­çš„ç¬¬â¼€ä¸ªâ¼©æ•°ç‚¹æ˜¯æœ‰æ•ˆçš„ï¼Œâ½½ç¬¬â¼†ä¸ªâ¼©æ•°ç‚¹å°±æ˜¯â½†æ•ˆçš„äº†ï¼Œå› æ­¤*ç¬¬â¼†ä¸ªâ¼©æ•°ç‚¹åâ¾¯çš„å­—ç¬¦ä¸²å°†è¢«å¿½ç•¥*ã€‚
>  ï¼ˆ2ï¼‰å¦‚æœå­—ç¬¦ä¸²å¼€å¤´åŒ…å«çš„æ˜¯â¼€ä¸ªå¯è§£æä¸ºæ•´æ•°çš„æ•°ï¼ˆæ²¡æœ‰â¼©æ•°ç‚¹ï¼Œæˆ–è€…â¼©æ•°ç‚¹åâ¾¯éƒ½æ˜¯é›¶ï¼‰ï¼Œ`parseFloat()`ä¼šè¿”å›æ•´æ•°ã€‚åä¹‹è¿”å›`NaN`

### è¿ç®—ç¬¦ä¼˜å…ˆçº§

åœ¨JavaScriptä¸­ï¼Œè¿ç®—ç¬¦çš„æ‰§è¡Œé¡ºåºæ˜¯ç”±è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å’Œç»“åˆæ€§å†³å®šçš„ã€‚

ä»¥ä¸‹æ˜¯JavaScriptè¿ç®—ç¬¦çš„ä¼˜å…ˆçº§åˆ—è¡¨ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š

1. æ‹¬å· `()`
2. æˆå‘˜è®¿é—® `.` æˆ– `[]`ï¼›`new`
3. é€’å¢ã€é€’å‡ `++`ã€`--`
4. æ±‚åã€é `!`, `-`
5. ä¹˜æ³•ã€é™¤æ³•ã€å–ä½™ `*`, `/`, `%`
6. åŠ æ³•ã€å‡æ³•ï¼ˆåŒç›®ï¼‰ `+`, `-`
7. æ¯”è¾ƒè¿ç®—ç¬¦ `<`, `<=`, `>`, `>=`
8. ç›¸ç­‰è¿ç®—ç¬¦ `==`, `!=`, `===`, `!==`
9. é€»è¾‘ä¸è¿ç®—ç¬¦ `&&`
10. é€»è¾‘æˆ–è¿ç®—ç¬¦ `||`
11. æ¡ä»¶ï¼ˆä¸‰å…ƒï¼‰è¿ç®—ç¬¦ `? :`
12. èµ‹å€¼è¿ç®—ç¬¦ `=`, `+=`, `-=`, `*=`, `/=`, ç­‰ç­‰ã€‚

### æ§åˆ¶æµä¼˜åŒ–

**ä¼˜åŒ–å¤šæ¡ä»¶åˆ¤æ–­**

```js
//bad
if(x==="a"||x==="e"||x==="i"||x==="o"||x==="u"){
    console.log('well done!')
}
//good
if(["a","e","i","o","u"].includes(x)){
    console.log('well done!')
}
```

**ä¼˜åŒ–switchåˆ¤æ–­**

```js
//bad
switch(x){
    case 1:
        //operations1...;
        break;
    case 2:
        //operations2...;
        break;
    case 3:
        //operations3...;
        break;
}
//good
const dictMap = {
    [1]:operations1,
    [2]:operations2,
    [3]:operations3,
}

const operations1 = () => {console.log(3)}
const operations2 = () => {console.log(2)}
const operations3 = () => {console.log(1)}

//ä½¿ç”¨dictMap[x]
dictMap[x]()
//let res = dictMap[x]()
```

## forå¾ªç¯

### for...in

`for...in` è¯­å¥ç”¨æ¥å¾ªç¯ä¸€ä¸ªæŒ‡å®šçš„å˜é‡æ¥é€šè¿‡*æœå¯»å¯¹è±¡çš„åŸå‹é“¾*å¾ªç¯æŒ‡å®šå¯¹è±¡*æ‰€æœ‰å¯æšä¸¾å±æ€§*ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

å¯¹äºæ•°ç»„ï¼Œä¼šéå†å­—ç¬¦ä¸²çš„ç´¢å¼•å¹¶è¿”å›ã€‚æ­¤æ—¶æ•°ç»„è‹¥æœ‰å…¶ä»–é¢å¤–å±æ€§åˆ™ä¼šè¿å¸¦ç€éå†å‡ æ¬¡ï¼Œçœ‹æ¥ä¸å¤ªé€‚åˆéå†æ•°ç»„

```js
for (i in obj) {}
```

### for...of

å…¶å®ï¼Œè¿™ç§å¾ªç¯æ˜¯ç±»ä¼¼äºpythonçš„`for...in`å¾ªç¯çš„ã€‚å®ƒä¸»è¦è¿”å›é”®å€¼ï¼Œå‡¡æ˜¯*å¯éå†çš„æ•°æ®*ç±»å‹éƒ½å¯ä»¥ç”¨å®ƒã€‚

`break`å’Œ`continue`åœ¨æ­¤å¾ªç¯ä½“ç³»ä¸­ä»ç„¶é€‚ç”¨ã€‚

```js
for (let el of "Jayther"){
    if(el=="t")break
    console.log(el)
}
```

![](./index.assets/202202022108229.jpg)

å®ƒä¹Ÿæ”¯æŒæ•°ç»„è§£æ„ã€‚è‹¥æ˜¯é‡åˆ°å¯¹è±¡ï¼Œåˆ™è¦ç”¨åˆ°Objectçš„ä¸‰ä¸ªéå†æ–¹æ³•ã€‚

```js
let mp1 = new Map([[1,"Object"],[2,"Oriented"],[3,"Programming"]])
for (let [k,v] of mp1)
    console.log(`${k}:${v}`)
//1:Object
//2:Oriented
//3:Programming
let Zhou_ShuYu = {glasses:false,height:178,motto:'Just do it!'}
for (let [key,value] of Object.entries(Zhou_ShuYu))
    console.log(`${key}:${value}`)
//glasses:false
//height:178
//motto:Just do it!
```

## æ•°æ®ç±»å‹åˆ†ç±»

- ä¼ å‚æ–¹å¼ä¸åŒï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æ˜¯**å€¼ä¼ é€’**ï¼Œè€Œå¼•ç”¨æ•°æ®ç±»å‹æ˜¯**åœ°å€ä¼ é€’**ã€‚
- å‚¨å­˜æ–¹å¼ä¸åŒï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æ˜¯**æ ˆå­˜å‚¨**ï¼Œè€Œå¼•ç”¨æ•°æ®ç±»å‹æ˜¯**å †å­˜å‚¨**ã€‚

**åŸºæœ¬æ•°æ®ç±»å‹**

`null`ï¼Œ`undefined`ï¼Œ`boolean`ï¼Œ`number`ï¼Œ`string`ï¼Œ`symbol` å’Œ `bigint`

 undefined å’Œ null ä¸è‡ªèº«ä¸¥æ ¼ç›¸ç­‰ã€‚ `undefined===undefined`,`null===null`

`NaN`ä¸æ‰€æœ‰çš„å€¼éƒ½ä¸ç›¸ç­‰`NaN!==NaN`

**å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆobject)**

`object`ï¼Œ`array`ï¼Œ`function`ï¼Œ`class`ï¼Œ`set`ï¼Œ`weakset`ï¼Œ`map`ï¼Œ`weakmap`

ä¿å­˜åˆ°å †å†…å­˜ä¸­ï¼Œæ¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå°±ä¼šåœ¨å †å†…å­˜ä¸­å¼€è¾Ÿå‡ºä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œ

è€Œå˜é‡ä¿å­˜çš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ï¼ˆå¯¹è±¡çš„å¼•ç”¨ï¼‰

å¦‚æœä¸¤ä¸ªå˜é‡ä¿å­˜çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡å¼•ç”¨,å½“ä¸€ä¸ªå¯¹è±¡é€šè¿‡ä¸€ä¸ªå˜é‡ä¿®æ”¹å±æ€§æ—¶,å¦ä¸€ä¸ªä¹Ÿä¼šå—åˆ°å½±å“.

<img src="./index.assets/image-20240116171651742.png" alt="image-20240116171651742" style="zoom:50%;" />

> å¯¹è±¡æ˜¯å¯çªå˜çš„ã€‚å…·ä½“æ˜¯æŒ‡å¯¹è±¡çš„å†…å®¹å¯ä»¥ä»»æ„æ”¹å˜ï¼Œç”šè‡³ä¸å—`const`å…³é”®å­—çš„å½±å“ã€‚
>
> åœ¨`const`çš„å½±å“ä¸‹ï¼Œåªæ˜¯å¯¹è±¡å¯¹åº”çš„å˜é‡å¯¹å¯¹è±¡çš„å¼•ç”¨ä¸èƒ½æ”¹åŠ¨ç½¢äº†ã€‚è¯¦æƒ…è§[å˜é‡å®šä¹‰](#å˜é‡å®šä¹‰)ã€‚

```js
const pet = { 
    name: "å°ç©ºçµ",
    is: "ç©ºçµæ–—å£«",
    type: ["è‰","æ­¦"],
}

pet = { name: "Luna", is: "Border Collie"} // TypeError: Assignment to constant variable.
pet.name = "æˆ‘æ˜¯ç©ºçµä¾ "; pet.name <!-- "æˆ‘æ˜¯ç©ºçµä¾ "
```

## å˜é‡è§£æ„

**æ•°ç»„å½¢å¼è§£æ„**

```js
let [a,b,c] = [1,3,5]
console.log(a,b,c)  //1 3 5
//åº”ç”¨ï¼šäº¤æ¢æ•°å€¼
let a=1,b=2
[a,b]=[b,a]
console.log(a,b)  //2 1
```

**å¯¹è±¡è§£æ„**

```js
let obj = {a:2,b:3,c:4}
let {a,b,c} = obj
console.log(a,b,c)  // 2 3 4
//å¦‚æœæ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š
let {a,b,c}={}
console.log(a,b,c)  // undefined undefined undefined
//å¸¦ä¸Šé»˜è®¤å‚æ•°ä¼šæ€æ ·ï¼Ÿ
let {a=1,b=2,c=3}={}
console.log(a,b,c)  // 1 2 3
//å¯¹è±¡è§£æ„å¯ä»¥å¯¹å·å…¥åº§ï¼
let {abs,floor,random} = Math
console.log(abs,floor,random)
//å˜é‡ä¸å±æ€§ä¸ä¸€è‡´æ—¶è¦è¿™ä¹ˆåšï¼šå†™æˆ "åŒ¹é…çš„å¯¹è±¡å±æ€§:è¦è¢«èµ‹å€¼çš„å˜é‡" ï¼Œå¯ä»¥èµ‹å€¼ç»™åé¢çš„å˜é‡
let {a:q,b:r,c:s} = obj //ç®€å†™
console.log(q,r,s)  //2 3 4
```

![](./index.assets/202202022108222.jpg)

## æ—¶é—´

**æ—¶é—´æˆ³**ï¼šæŒ‡1970 å¹´ 1 æœˆ 1 æ—¥è‡³ä»Šçš„æ¯«ç§’æ•°ï¼Œå¯ç”¨äºè°ƒè¯•ã€‚

```js
let o = Date()  //å½“å‰Dateå­—ç¬¦ä¸²
let a = new Date();  //åˆ›å»ºæ–°çš„å½“å‰Dateå¯¹è±¡
let b = new Date('æœˆ/æ—¥/å¹´ æ—¶/åˆ†/ç§’');  //åˆ›é€ æŒ‡å®šæ—¶é—´çš„Dateå¯¹è±¡
let c = Date.now()  //è·å–å½“å‰æ—¶é—´æˆ³
//æˆ–è€…ï¼šc = +new Date() ï¼Œé€šè¿‡å°†æ—¥æœŸè½¬æˆæ•°å­—è·å–æ—¶é—´æˆ³
```

Dateå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š

| é¡¹ç›®               | é‡Šä¹‰                                  |
| ------------------ | ------------------------------------- |
| `getFullYear()`    | å®Œæ•´å¹´ä»½                              |
| `getMonth()`       | ä¸€å¹´çš„æŸä¸€æœˆ(0ä¸ºä¸€æœˆï¼Œ0~11)           |
| `getDate()`        | ä¸€ä¸ªæœˆä¸­çš„æŸä¸€å¤© (1 ~ 31)             |
| `getDay()`         | ä¸€å¤©æ˜¯æ˜ŸæœŸå‡ (0ä¸ºå‘¨æ—¥ï¼Œ0~6)            |
| `getHours()`       | å°æ—¶ (0 ~ 23)                         |
| `getMinutes()`     | åˆ†é’Ÿ (0 ~ 59)                         |
| `getSeconds()`     | ç§’é’Ÿ (0 ~ 59)                         |
| `getTime()`        | è¿”å›å¯¹è±¡æ—¶é—´æˆ³                        |
| `toString()`       | å¯¹è±¡è½¬å­—ç¬¦ä¸²                          |
| `toLocaleString()` | (æ®æœ¬åœ°æ—¶é—´æ ¼å¼) å¯¹è±¡æˆ–æ—¶é—´æˆ³è½¬å­—ç¬¦ä¸² |

å…¨éƒ¨å¯å‚è€ƒ[JavaScript Date å‚è€ƒæ‰‹å†Œ (w3school.com.cn)](https://www.w3school.com.cn/JSref/JSref_obj_date.asp)

```js
//ä»£ç æ•ˆç‡æµ‹è¯•å‡½æ•°ï¼Œaä¸ºä»£ç å­—ç¬¦ä¸²ã€‚
function duration(a){
  let start = Date.now()
  eval(a)
  let end = Date.now()
  return end - start
}
```

## æ•°å­¦

ä¸€ä¸ªå·¥å…·ç±»ï¼Œå¯ç›´æ¥ä½¿ç”¨ã€‚å±æ€§ä¸ºä¸€äº›å¸¸æ•°ï¼Œæ–¹æ³•ä¸ºä¸€äº›æ•°å­¦è¿ç®—å‡½æ•°

### å¸¸ç”¨å¸¸æ•°

| å±æ€§         | æè¿°           |
| ------------ | -------------- |
| `Math.E`     | è‡ªç„¶å¯¹æ•°çš„åº•æ•° |
| `Math.LN2`   | 2 çš„è‡ªç„¶å¯¹æ•°   |
| `Math.PI`    | åœ†å‘¨ç‡         |
| `Math.SQRT2` | 2 çš„å¹³æ–¹æ ¹     |

### å¸¸ç”¨æ•°å­¦è¿ç®—å‡½æ•°

| å±æ€§             | æè¿°                                                   |
| ---------------- | ------------------------------------------------------ |
| `Math.abs(x)`    | è¿”å›ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼ã€‚                                   |
| `Math.pow(x, y)` | è¿”å›ä¸€ä¸ªæ•°çš„ y æ¬¡å¹‚ã€‚ç°åœ¨ES6ç®€å†™ä¸º`x**y`               |
| `Math.random()`  | è¿”å›ä¸€ä¸ª 0 åˆ° 1 ä¹‹é—´çš„ä¼ªéšæœºæ•°ã€‚                       |
| `Math.sqrt(x)`   | è¿”å›ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹ã€‚                                   |
| `Math.ceil()`    | è¿”å›æ¯”å‚æ•°å€¼è¦å¤§çš„æœ€å°æ•´æ•°ã€‚å¦‚`3.4`æ˜¯`4`ï¼›`-2.3`æ˜¯`-2` |
| `Math.floor()`   | è¿”å›æ¯”å‚æ•°å€¼è¦å°çš„æœ€å¤§æ•´æ•°ã€‚å¦‚`3.4`æ˜¯`3`ï¼›`-2.3`æ˜¯`-3` |
| `Math.round()`   | è¿”å›==å››èˆäº”å…¥==åçš„æ•´æ•°ã€‚                             |
| `Math.trunc()`   | æ•°å­—æˆªå–ï¼Œä¸å‘ç”Ÿå››èˆäº”å…¥ï¼Œå¯å†™ä¸º`~~3.5`                |
| `Math.max()`     | è¿”å›å¤šä¸ªæ•°çš„æœ€å¤§å€¼ï¼Œ                                   |
| `Math.min()`     | è¿”å›å¤šä¸ªæ•°çš„æœ€å°å€¼ï¼Œ                                   |

å…·ä½“å¯å‚è€ƒ[JavaScript Math å‚è€ƒæ‰‹å†Œ (w3school.com.cn)](https://www.w3school.com.cn/JSref/JSref_obj_math.asp)

```js
//æŒ‡å®šæ•´æ•°åŒºé—´å†…çš„æ•°å­¦éšæœºæ•°ç”Ÿæˆæ–¹æ³•
let a = Math.random()*n  //ç”Ÿæˆ[0,n]çš„éšæœºæ•°
let b = Math.random()*(n-m)+m  //ç”Ÿæˆ[m,n]çš„éšæœºæ•°
let c = Math.round(Math.random()*n)  //ç”Ÿæˆ0~nçš„éšæœºæ•´æ•°
let d = Math.round(Math.random()*(n-m)+m)  //ç”Ÿæˆm~nçš„éšæœºæ•´æ•°
```

## å®šæ—¶å™¨

### setIntevalã€clearInterval

> `setInteval()`å‡½æ•°ä¼šåœ¨æ¯éš”æŒ‡å®šæ—¶é—´é—´éš”è°ƒç”¨æŒ‡å®šå‡½æ•°ï¼Œå®ƒä¼šè¿”å›å®ƒçš„å”¯ä¸€çš„è¯†åˆ«ç¬¦ï¼Œç”¨äºæ¸…é™¤å¾ªç¯å®šæ—¶å™¨ã€‚
>
> åœ¨åŠ¨æ€åŠ è½½çš„é¡µé¢ä¸­ï¼Œä¸€å®šè¦æ¸…ç†å¾ªç¯å®šæ—¶å™¨ã€‚ä½¿ç”¨`clearInterval(è®¡æ—¶å™¨å˜é‡)`æ¸…é™¤å®šæ—¶å™¨
>
> æœ‰æ—¶å€™é‡å¤è®¾ç½®å®šæ—¶å™¨ï¼Œä¸¥é‡çš„æ—¶å€™ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Œæœ€ç»ˆé¡µé¢å´©æºƒã€‚

```js
//æ ¼å¼ä¸ºsetInteval(å›è°ƒå‡½æ•°,æ—¶é—´é—´éš”)
setInterval(function(){console.log('Hi JS!')},1000)
//æ¯1ç§’æ§åˆ¶å°ä¼šè¾“å‡ºå­—ç¬¦ä¸²'Hi JS!'
//ä¸‹é¢ä¸ºå˜é‡å‘½åè®¡æ—¶å™¨åŠclearInterval()ç”¨æ³•ã€‚
var timer ,count = 0
timer = setInterval(function(){
    console.log('Hi JS!')
    count++
    if(count>=10){clearInterval(timer)}
},1000)
//ä¼šè¿”å›timerè®¡ç®—å™¨ç‰¹å¾å€¼å¹¶æ¯1ç§’è¾“å‡ºå­—ç¬¦ä¸²'Hi JS!'ï¼Œåç§’ååœæ­¢
```

### setTimeoutã€clearTimeout

`setTimeout()`å‡½æ•°ä¼šåœ¨æŒ‡å®šæ—¶é—´é—´éš”åè°ƒç”¨æŒ‡å®šå‡½æ•°

```js
//æ ¼å¼ä¸ºsetTimeOut(å›è°ƒå‡½æ•°,æ—¶é—´é—´éš”)
setTimeout(function(){console.log('Hi JS!')},1000)
//1ç§’åæ§åˆ¶å°ä¼šè¾“å‡ºå­—ç¬¦ä¸²'Hi JS!'
//ä¸‹é¢ä¸ºå˜é‡å‘½åè®¡æ—¶å™¨åŠclearTimeOut()ç”¨æ³•ã€‚
let t1
t1 = setTimeout(function(){console.log('Hi JS!')},1000)
if(/*æŒ‡å®šæ¡ä»¶*/){
	clearTimeout(t1)
}
//åœ¨æŒ‡å®šæ¡ä»¶ä¸‹å¯æå‰ä¸­æ­¢è®¡æ—¶å™¨åŠå…¶å›è°ƒå‡½æ•°çš„æ‰§è¡Œã€‚   
```

### setTimeout(fn,0)

`setTimeout(fn,0)`å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œåªæœ‰åœ¨æ‰€æœ‰åˆå§‹ä»£ç (æ™®é€šä»£ç )æ‰§è¡Œå®Œæ¯•åæ‰ä¼šè¢«æ‰§è¡Œã€‚

```js
//ä½œå“ä»£ç èŠ‚é€‰ï¼šå¯¼èˆªæ ä¸Šçš„åˆ—è¡¨å…ƒç´ è¦é¼ æ ‡ç§»åŠ¨ä¸Šå»åæ¸¸æ ‡å…ƒç´ (chase)ç”Ÿæˆä¼šæœ‰ä¸ªé€æ˜åº¦è¿‡æ¸¡æ•ˆæœ
if(cont.innerHTML==""){
    let chase = document.createElement("div")
    chase.classList.add("chase")
    chase.style.width=e.target.offsetWidth+"px"
    chase.style.left=e.target.offsetLeft+"px"
    cont.appendChild(chase)
    // chase.style.opacity="1"    //æ­¤ä»£ç ä¼šå…ˆè¢«æ‰§è¡Œï¼Œèµ·ä¸åˆ°è¿‡æ¸¡æ•ˆæœ
    setTimeout(function(){
        chase.style.opacity="1"   //æ­¤ä»£ç ä¼šåœ¨ä¸Šé¢ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œåæ‰æ‰§è¡Œ
    },0)
}
```

## JSONç›¸å…³

JSONï¼šä¸€ç§æœ‰æ ¼å¼æœ‰æ¶ˆæ¯çš„**å­—ç¬¦ä¸²**ï¼Œå±æ€§åä¼šè¢«åŒå¼•å·æ‹¬èµ·æ¥ï¼Œä¸èƒ½å†™æ³¨é‡Šã€‚

`JSON.stringify()`ï¼šå¯¹è±¡ â†’ JSONå­—ç¬¦ä¸²

`JSON.parse()`ï¼šJSONå­—ç¬¦ä¸² â†’ å¯¹è±¡

> æ³¨æ„ï¼å½“å¯¹è±¡å±æ€§å€¼å«æœ‰ä¸‹åˆ—æ•°æ®ç±»å‹æ—¶ä¼šè¢«è½¬æ¢ã€è¿å¸¦å±æ€§åä¸€èµ·å¿½ç•¥ æˆ–è€…å‡ºé”™ï¼
>
> 1. æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡
> 2. `Set`ã€`Map`ã€`WeakSet`ã€`WeakMap`å¯¹è±¡
> 3. `Date`å¯¹è±¡
> 4. `Symbol`
> 5. `BigInt`ï¼ˆæŠ¥é”™ï¼‰
>
> ```js
> JSON.stringify({a:/a/, b:new Set(), c:new Map(), d:Symbol('rhodes island'), e:new Date()})
> // '{"a":{},"b":{},"c":{},"e":"<æ—¥æœŸè½¬æˆçš„å­—ç¬¦ä¸²>"}'
> ```

## æ­£åˆ™è¡¨è¾¾å¼

> MDNä¸Šçš„æ–‡æ¡£ï¼š[æ­£åˆ™è¡¨è¾¾å¼ - JavaScript | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions)
>
> ç›´æ¥æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼ï¼š[regex101: build, test, and debug regex](https://regex101.com/)
>
> æ— ç—›å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼ï¼š[Regex Learn - é€æ­¥ä»é›¶åŸºç¡€åˆ°é«˜é˜¶ã€‚](https://regexlearn.com/zh-cn)
>
> æ­£åˆ™è¡¨è¾¾å¼é€ŸæŸ¥è¡¨ï¼š[Regex Learn - æ­£åˆ™è¡¨è¾¾å¼å¤‡å¿˜å•](https://regexlearn.com/zh-cn/cheatsheet)
>
> å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼š[æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨](https://www.jb51.net/tools/regex.htm)

å­—é¢é‡ï¼š`/æ­£åˆ™è¡¨è¾¾å¼/åŒ¹é…æ¨¡å¼`

å¯¹è±¡æ³•ï¼š`new RegExp("æ­£åˆ™è¡¨è¾¾å¼","åŒ¹é…æ¨¡å¼")`

**æ­£åˆ™è¡¨è¾¾å¼`test`æ–¹æ³•è¿”å›æ˜¯å¦åŒ¹é…æˆåŠŸï¼š**`æ­£åˆ™è¡¨è¾¾å¼.test("string")`

**æ­£åˆ™è¡¨è¾¾å¼`exec`æ–¹æ³•è¿”å›åŒ¹é…è¯¦ç»†ä¿¡æ¯ï¼š**`æ­£åˆ™è¡¨è¾¾å¼.exec("string")`

```js
regex1.exec(str1)
['æ‰¾åˆ°çš„å­å­—ç¬¦ä¸²', index: 'æ‰¾åˆ°çš„æ‰€åœ¨ç´¢å¼•', input: 'åŸå­—ç¬¦ä¸²', groups: undefined]
```

> å¯¹æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡æ‰§è¡Œ`test()`æ–¹æ³•å,`RegExp.$n`çš„è®¿é—®æœ‰é™åˆ¶,ä¸èƒ½æ— é™åˆ¶æ‰§è¡Œ,ä¸»è¦åŸå› æœ‰ä¸¤ä¸ª:
>
> 1. `test()`æ–¹æ³•ä»…åœ¨æœ€åä¸€æ¬¡æ‰§è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ä¸Šä¿å­˜äº†ç»“æœå’Œåˆ†ç»„åŒ¹é…ã€‚æ‰€ä»¥åªèƒ½åœ¨`test()`ä¹‹åç«‹å³è®¿é—®,è¿‡äº†ä½œç”¨åŸŸåå°±å¤±æ•ˆäº†ã€‚
> 2. `RegExp.$n`é‡Œçš„næœ€å¤§åªèƒ½åŒ¹é…å¯¹åº”çš„åˆ†ç»„æ•°é‡,å¦‚æœè¶…å‡ºäº†åˆ†ç»„æ•°é‡,ä¼šè¿”å›undefinedã€‚
>
> ä¸¾ä¾‹:
>
> ```js
> const regex = /(\d+) (\d+)/; 
> regex.test('123 456'); 
> 
> RegExp.$1; // '123' å¯ä»¥è®¿é—®
> RegExp.$2; // '456' å¯ä»¥è®¿é—® 
> 
> // è¶…å‡ºåˆ†ç»„èŒƒå›´å°±ä¼šé”™
> RegExp.$3; // undefined
> 
> // ç¦»å¼€ä½œç”¨åŸŸå°±å¤±æ•ˆ
> function test() {
>   regex.test('123 456');
>   return RegExp.$1; 
> }
> test(); // è¿”å›undefined
> ```

> ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰ï¼š*\\*ï¼›è¦è½¬ä¹‰çš„å­—ç¬¦æœ‰ï¼š
>
> â‘´ *$* â‘µ *(* â‘¶ *)* â‘· *+* â‘¸ *\** â‘¹ *?* â‘º *.* â‘» *[* â‘¼ *]* â‘½ *\\* â‘¾ */* â‘¿ *^* â’€ *{* â’ *}* â’‚ *|* 

### åŒ¹é…æ¨¡å¼

| æ¨¡å¼ | é‡Šä¹‰                                  |
| ---- | ------------------------------------- |
| i    | ä¸åŒºåˆ†å¤§å°å†™(case *i*nsensitive)      |
| g    | å…¨å±€åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯å…¨éƒ¨æ‰¾é(*g*lobal)    |
| m    | ä½¿åŒ¹é…æ”¯æŒå¤„ç†å¤šè¡Œçš„å†…å®¹(*m*ultiline) |

### å¼€å¤´ç»“å°¾é™å®šç¬¦

| å­—ç¬¦ | é‡Šä¹‰                      |
| ---- | ------------------------- |
| ^    | åŒ¹é…åé¢çš„å¼€å¤´å­—ç¬¦ï¼Œå¦‚^a  |
| \$   | åŒ¹é…å‰é¢çš„ç»“å°¾å­—ç¬¦ï¼Œå¦‚a\$ |

### "æˆ–"é™å®šç¬¦

| å­—ç¬¦ | é‡Šä¹‰                 |
| ---- | -------------------- |
| a\|b | åŒ¹é…aæˆ–b             |
| [â€¦]  | åŒ¹é…åˆ—å‡ºçš„ä»»æ„å­—ç¬¦   |
| [^â€¦] | åŒ¹é…æ²¡åˆ—å‡ºçš„ä»»æ„å­—ç¬¦ |

### æ•°å­—é™å®šç¬¦

| å­—ç¬¦    | é‡Šä¹‰                               | å¤‡æ³¨          |
| ------- | ---------------------------------- | ------------- |
| `{n}`   | m{n}ï¼šmè¿ç»­å‡ºç°næ¬¡                 |               |
| `{n,m}` | å‰é¢çš„å­—ç¬¦è‡³å°‘å‡ºç°næ¬¡ï¼Œè‡³å¤šå‡ºç°mæ¬¡ |               |
| `{n,}`  | å‰é¢çš„å­—ç¬¦è‡³å°‘å‡ºç°næ¬¡              |               |
| `*`     | å‰é¢çš„å­—ç¬¦ä¸å‡ºç°æˆ–å‡ºç°æ•°æ¬¡         | ç›¸å½“äº`{0,}`  |
| `+`     | å‰é¢çš„å­—ç¬¦è‡³å°‘å‡ºç°1æ¬¡              | ç›¸å½“äº`{1,}`  |
| `?`     | å‰é¢çš„å­—ç¬¦ä¸å‡ºç°æˆ–å‡ºç°1æ¬¡          | ç›¸å½“äº`{0,1}` |

### ç‰¹æ®Šå­—ç¬¦

| å­—ç¬¦ | é‡Šä¹‰ï¼ˆåŒ¹é…å¯¹è±¡ï¼‰                  |
| ---- | --------------------------------- |
| .    | é™¤æ¢è¡Œå¤–çš„ä»»æ„å­—ç¬¦                |
| \b   | å•è¯è¾¹ç•Œ                          |
| \B   | éå•è¯è¾¹ç•Œ                        |
| \d   | æ•°å­—ï¼Œç­‰ä»·[0-9]                   |
| \D   | éæ•°å­—                            |
| \s   | ç©ºç™½å­—ç¬¦                          |
| \S   | éç©ºç™½å­—ç¬¦                        |
| \w   | å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œç­‰ä»·[A-z0-9_] |
| \W   | éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿              |

### æ•è·åˆ†ç»„åŠå…¶ä½¿ç”¨

> åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç”¨æ‹¬å·æ‹¬èµ·æ¥çš„è¡¨ç¤ºæ•è·åˆ†ç»„ï¼Œå…¶å†…å®¹æ˜¯å¯ä»¥é‡ç”¨çš„
>
> 1. åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ç”¨`\1`,`\2`,`\3`ç­‰ç¬¦å·åˆ†åˆ«è¡¨ç¤ºç¬¬1ä¸ª,ç¬¬2ä¸ªå’Œç¬¬3ä¸ªåˆ†ç»„
> 2. ç”¨`(?:)`è¡¨ç¤ºè¯¥ç»„ä¸å¯è¢«æ•è·ã€‚
> 3. ç”¨`(?<å‘½å>)`æ¥è¡¨ç¤ºå‘½ååˆ†ç»„ï¼Œå¯ä»¥é€šè¿‡å‘½åæ¥ä½¿ç”¨åˆ†ç»„å†…å®¹ã€‚å¦‚`(?<year>2002)`

### æŸ¥æ‰¾å‰/åé¢æœ‰/æ²¡æœ‰å­—ç¬¦çš„æ¨¡å¼

åˆç§°é›¶å®½æ–­è¨€

| æ–­è¨€    | ç”¨æ³•                                                 | é‡Šä¹‰         |
| ------- | ---------------------------------------------------- | ------------ |
| `(?=)`  | åœ¨*åé¢æœ‰æŒ‡å®šæ¨¡å¼*çš„æƒ…å†µä¸‹åŒ¹é…ï¼š`play(?=fair)`       | æ­£å‘å…ˆè¡Œæ–­è¨€ |
| `(?!)`  | åœ¨*åé¢æ²¡æœ‰æŒ‡å®šæ¨¡å¼*çš„æƒ…å†µä¸‹åŒ¹é…ï¼š`play(?!fair)`     | è´Ÿå‘å…ˆè¡Œæ–­è¨€ |
| `(?<=)` | åœ¨*å‰é¢æœ‰æŒ‡å®šæ¨¡å¼*çš„æƒ…å†µä¸‹åŒ¹é…ï¼š`(?<=jungle)movie`   | æ­£å‘åè¡Œæ–­è¨€ |
| `(?<!)` | åœ¨*å‰é¢æ²¡æœ‰æŒ‡å®šæ¨¡å¼*çš„æƒ…å†µä¸‹åŒ¹é…ï¼š`(?<!pascal)movie` | è´Ÿå‘åè¡Œæ–­è¨€ |

## å­—ç¬¦ä¸²

æˆ‘ä»¬é€šå¸¸å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š

```js
var str = "HELLO"; //å­—ç¬¦ä¸²
var str = new String("HELLO"); //å­—ç¬¦ä¸²å¯¹è±¡
```

è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š

```js
13456+'' //'13456'
```

### å­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³•

#### å­—ç¬¦ä¸²è¿æ¥

```js
const a = "Hello", b = "World"
a + b //"HelloWorld"
a.concat(b) //"HelloWorld"
"".concat(a,b) //"HelloWorld"
```

#### å¤§å°å†™è½¬æ¢

```js
let str = "HelloJavaScript"

str.toLowerCase()  //hellojavascript
str.toUpperCase()  //HELLOJAVASCRIPT

str //HelloJavaScript
```

#### åˆ†å‰²å­—ç¬¦ä¸²

**slice()**

> æ ¼å¼ï¼š`substr(start,?end)`
>
> startï¼Œendéƒ½ä¸å¯ä¸ºè´Ÿæ•°ï¼

**substr()**

> æ ¼å¼ï¼š`substr(start,?length)`
>
> startï¼Œendéƒ½ä¸å¯ä¸ºè´Ÿæ•°ï¼

```js
let str = "Ten Things I Love about You"

str.substr(11) //I Love about You
str.substr(4,19) //Things I Love about

str //Ten Things I Love about You
```

**substring()**

> æ ¼å¼ï¼š`substring(start,?end)`
>
> startï¼Œendéƒ½ä¸å¯ä¸ºè´Ÿæ•°ï¼

```js
let str = "Ten Things I Love about Dogs"

str.substring(11) //I Love about Dogs
str.substring(4,23) //Things I Love about

str //Ten Things I Love about Dogs
```

#### å–æŸä½å­—ç¬¦

**charAt()ï¼Œat()**

> `charAt()`å’Œ`at()`éƒ½å¯ä»¥å®ç°å–ä¸‹æ ‡çš„åŠŸèƒ½ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯`at()`è¿˜å¯ä»¥å»å–è´Ÿæ•°ï¼Œè´Ÿæ•°æ˜¯ä»å­—ç¬¦ä¸²æœ«å°¾å¼€å§‹å‘å·¦è®¡æ•°ï¼Œå¦‚`"abcde".at(-1)==="e"`

```js
let str = "HelloJavaScript"
"ç¬¬ 7 ä¸ªå­—ç¬¦ä¸º " + str.charAt(6) // "a"
"ç¬¬ 11 ä¸ªå­—ç¬¦ä¸º " + str.at(10) // "c"
"ç¬¬ 8 ä¸ªå­—ç¬¦ä¸º " + str.at(-8) // "v"
```

#### indexOf()

> å¯»æ‰¾æŸä¸ªå­—ç¬¦æˆ–å­—ç¬¦ä¸²é¦–å­—æ¯åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ã€‚

```js
let str = "yankee doddle"
"k é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼š" + str.indexOf("k") //k é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼š3
"do é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼š" + str.indexOf("do") //do é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼š7
```

#### trim()ç³»åˆ—

> `trim()`æ¸…é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºæ ¼ï¼Œæ¢è¡Œç¬¦
>
> `trimStart()`æ¸…é™¤å­—ç¬¦ä¸²é¦–éƒ¨ç©ºæ ¼ï¼Œæ¢è¡Œç¬¦
>
> `trimEnd()`æ¸…é™¤å­—ç¬¦ä¸²å°¾éƒ¨ç©ºæ ¼ï¼Œæ¢è¡Œç¬¦

```js
let str = "  Welcome to the Naranja Academy!    "

str.trim()      //'Welcome to the Naranja Academy!'
str.trimStart() //'Welcome to the Naranja Academy!    '
str.trimEnd()   //'  Welcome to the Naranja Academy!'

str //"  Welcome to the Naranja Academy!    "

let str = `  Welcome
to the Naranja Academy!  `
str.trim() //'Welcome\nto the Naranja Academy!'
```

#### padStart(), padEnd()

> æ ¼å¼ï¼š`padStart(å­—ç¬¦ä¸²é•¿åº¦,"ç»™å®šå­—ç¬¦ä¸²")`ï¼Œ`padEnd(å­—ç¬¦ä¸²é•¿åº¦,"ç»™å®šå­—ç¬¦ä¸²")`
>
> å¦‚æœåŸºç¡€å­—ç¬¦ä¸²é•¿åº¦å°äºç»™å®šé•¿åº¦ï¼Œå¯ç”¨`padStart()`åœ¨è¯¥å­—ç¬¦ä¸²é¦–éƒ¨å¡«å……æŸå­—ç¬¦ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œå¯ç”¨`padEnd()`åœ¨è¯¥å­—ç¬¦ä¸²æœ«å°¾å¡«å……æŸå­—ç¬¦ï¼ˆä¸²ï¼‰ã€‚

```js
//padStartä½¿ç”¨æ¡ˆä¾‹
let curTime = {hour:"9",minute:"13",second:"2"}
function formatTime(timeObj){
    let  {hour:Hour,minute:Minute,second:Second} = timeObj
    return Hour.padStart(2,"0")+":"+Minute.padStart(2,"0")+":"+Second.padStart(2,"0")
}
formatTime(curTime) //09:13:02

//padEndä½¿ç”¨æ¡ˆä¾‹
let quote = "I'll give you all of my money"
quote.padEnd(40,"$%!") //"I'll give you all of my money$%!$%!$%!$%"
```

### å­—ç¬¦ä¸²æ­£åˆ™æ–¹æ³•

#### search()

> 1. æœå¯»æŸå­—ç¬¦ä¸²çš„ç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®ï¼š`search(å­—ç¬¦ä¸²)`
>
>    åœ¨è¿™æ–¹é¢å’Œ`indexOf()`åŠŸèƒ½ä¸€æ ·
>
> 2. æœå¯»æ­£åˆ™æ¨¡å¼çš„ç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®ï¼š`search(regexp)`

```js
let str = "It is our choices, Harry, that show what we truly are, far more than our abilities."

str.search("choice") //10
str.search(/\b\w{4}\b/) //26
```

#### split()

> ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦å°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå­å­—ç¬¦ä¸²æ•°ç»„
>
> `å­—ç¬¦ä¸².split(åˆ†éš”ç¬¦å­—ç¬¦ä¸²|æ­£åˆ™è¡¨è¾¾å¼)`

```js
let str = "Hello,Java,Script"

str.split(",") //["Hello","Java","Script"]
str //Hello,Java,Script
```

#### replace(), replaceAll()

> 1. æ™®é€šå­—ç¬¦ä¸²è°ƒæ¢ï¼š`å­—ç¬¦ä¸².replace(å¾…æ›¿æ¢çš„å­—ç¬¦ä¸², æ–°çš„å­—ç¬¦ä¸²)`
>
> 2. æ­£åˆ™æ¨¡å¼è°ƒæ¢ï¼š`å­—ç¬¦ä¸².replace(æ­£åˆ™è¡¨è¾¾å¼, æ–°çš„å­—ç¬¦ä¸²)`
>
>    ä¸ç”¨å…¨å±€æ­£åˆ™è¡¨è¾¾å¼çš„è¯å°±ä¸ä¼šå…¨éƒ¨æ›¿æ¢

```js
let str1 = 'HelloJavaScript'
let str2 = 'HELLOWHELLOWHELLOWHELLOWHELLO'

str1.replace("JavaScript","World") //HelloWorld
str1 //HelloJavaScript

str2.replace("W","_") //HELLO_HELLOWHELLOWHELLOWHELLO
str2.replace(/W/,"_") //åŒä¸Š

str2.replace(/W/g,"_") //HELLO_HELLO_HELLO_HELLO_HELLO

str2 //HELLOWHELLOWHELLOWHELLOWHELLO
```

> å¯ä»¥å˜é€šä½¿ç”¨æ¥åˆ é™¤é‡Œé¢åŒ¹é…åˆ°çš„æ¨¡å¼`å­—ç¬¦ä¸².replace(å¾…æ›¿æ¢çš„å­—ç¬¦ä¸²|æ­£åˆ™è¡¨è¾¾å¼, '')`
>
> åœ¨æ­£åˆ™è¡¨è¾¾å¼å¤–çš„JSè¯­å¥å½“ä¸­ä½¿ç”¨`$1`,`$2`,`$3`ç­‰ç¬¦å·åˆ†åˆ«è¡¨ç¤ºç¬¬1ä¸ª,ç¬¬2ä¸ªå’Œç¬¬3ä¸ªåˆ†ç»„ã€‚
>
> æ­¤å¤–è¿˜å¯ä»¥ç”¨å‡½æ•°ä½œä¸ºç¬¬äºŒå‚æ•°ï¼Œå…¶å‚æ•°ç¬¬ä¸€ä¸ªæ˜¯æˆªåçš„åŸå­—ç¬¦ä¸²ï¼Œè€Œå‰©ä½™çš„æ˜¯åŒ¹é…åˆ†ç»„å¾—åˆ°çš„å­å­—ç¬¦ä¸²ã€‚
>
> è¯¦ç»†ä¿¡æ¯è¯·çœ‹ï¼š[String.prototype.replace() - JavaScript | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace)

```js
// æ‰‹æœºè„±æ•
function hidePhone(phoneNum){
    return phoneNum.replace(/(\d{3})\d{5}(\d{3})/g,'$1*****$2')
}

/* ======= è“æ¡¥æ¯çœèµ›çœŸé¢˜ï¼šMarkdownæ–‡æ¡£è§£æ, é¢˜è§£ç‰‡æ®µ ======= */
// 2. å¯¹å¼•ç”¨åŒºå—è¿›è¡Œè§£æ
function parseBlockQuote(){
    const tempStr = this.lineText.replace(this.blockQuote, "");
    return"<p>"+ tempStr +"</p>";
}

// 4.å¯¹å›¾ç‰‡è¿›è¡Œè§£æ
function parseImage(str){
    return str.replace(this.image, (result, alt, url)=>{
        return `<img src="${url}" alt="${alt}â€œ>`;
    })
}
```

`replaceAll()`æ˜¯ES6æ–°å¢ï¼Œæ—¨åœ¨è¯­ä¹‰

```js
let str2 = 'HELLOWHELLOWHELLOWHELLOWHELLO'

str2.replaceAll('W',"_") //HELLO_HELLO_HELLO_HELLO_HELLO
str2 //HELLOWHELLOWHELLOWHELLOWHELLO
```

#### match(), matchAll()

> `match()`è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ç»“æœåŠå…¶è¯¦ç»†åŒ¹é…ä¿¡æ¯ã€‚

```js
let quote = "The opposite of love is not hate, it's indifference. The opposite of art is not ugliness, it's indifference. The opposite of faith is not heresy, it's indifference. And the opposite of life is not death, it's indifference."

/*** åŒ¹é…å•ä¸ªä¼šè¿”å›è¯¦ç»†åŒ¹é…ä¿¡æ¯ ***/
quote.match("indifference") 
quote.match(/\b\w{4}\b/)
```

è¯¦ç»†ä¿¡æ¯æ˜¯ä¼ªæ•°ç»„ï¼Œå†…å®¹åŒ…æ‹¬å¦‚ä¸‹ï¼š`[åŒ¹é…å€¼, index: ç´¢å¼•å€¼, input: åŸå§‹å†…å®¹, groups: æ•è·ç»„]`

> **æ­£åˆ™è¡¨è¾¾å¼å¸¦ä¸Šå…¨å±€ä¼šåŒ¹é…æ‰€æœ‰ç»“æœçš„å€¼è€Œæ— è¯¦ç»†ä¿¡æ¯**

```js
quote.match(/\b\w{4}\b/g) //['love', 'hate', 'life']
```

> `matchAll()`è¿”å›æ‰€æœ‰åŒ¹é…ç»“æœåŠå…¶åŒ¹é…ä¿¡æ¯çš„éå†å™¨ï¼Œéœ€è¦éå†æ‰‹æ®µæˆ–è€…è½¬æ¢ã€‚

```js
let quote = "The opposite of love is not hate, it's indifference. The opposite of art is not ugliness, it's indifference. The opposite of faith is not heresy, it's indifference. And the opposite of life is not death, it's indifference."

Array.from(quote.matchAll("indifference"))
Array.from(quote.matchAll(/\b\w{4}\b/))
```

### ES6å­—ç¬¦ä¸²æ‹“å±•

#### startsWith()ï¼ŒendsWith()

```js
let str1 = 'Elsa is preparing for the feast'
let str2 = 'Michael lost his way in New York'

str1.startsWith('Elsa')  //true 
str1.startsWith('elsa')  //false
str2.startsWith('Elsa')  //false

str2.endsWith('New York')  //true 
str2.endsWith('New Zealand')  //false
str1.endsWith('New York')  //false
```

#### repeat(n)

> è¿”å›ä¸€ä¸ªé‡å¤ `n` æ¬¡åŸå­—ç¬¦ä¸²çš„æ–°å­—ç¬¦ä¸²

```js
'ä½ å¹²å˜›~~å“ˆå“ˆ~~å“å‘¦ '.repeat(3)
// 'ä½ å¹²å˜›~~å“ˆå“ˆ~~å“å‘¦ ä½ å¹²å˜›~~å“ˆå“ˆ~~å“å‘¦ ä½ å¹²å˜›~~å“ˆå“ˆ~~å“å‘¦ '
```

### æ¨¡æ¿å­—ç¬¦ä¸²

å¢å¼ºå­—ç¬¦ä¸²ä»¥åå¼•å·``æ‹¬èµ·å†…å®¹ã€‚å¯ä»¥å½“æ™®é€šå¼•å·ç”¨ï¼Œä¹Ÿæœ‰ç‰¹æ®Šæ•ˆç”¨ã€‚

```js
let message = `Remember that no matter how cool you think you may be, 
you are not cool enough to look down on anyone
... ever --Paul Walker`   //å¢å¼ºå­—ç¬¦ä¸²å†…å®¹å¯æ¢è¡Œï¼Œè¾“å‡ºæ—¶ä¼šä¿ç•™â€˜\nâ€™æ¢è¡Œç¬¦ã€‚
```

åœ¨å¢å¼ºå­—ç¬¦ä¸²å†…éƒ¨å¯ç”¨â€œ\${}â€æ¥æ˜¾ç¤ºå˜é‡æˆ–è¡¨è¾¾å¼ã€‚

```js
let x = 20, hobby = 'Kinetic Art'
console.log(`æˆ‘æ˜¯æ°è€…ï¼Œ2021å¹´çš„æˆ‘${x}å²ï¼Œæ˜¯${hobby}ä¹‹ä¸»ï¼Œä¹Ÿæœ‰å¿—æˆä¸ºå‰ç«¯å¼€å‘çš„ä¸€å‘˜ã€‚`)
//æˆ‘æ˜¯æ°è€…ï¼Œ2021å¹´çš„æˆ‘20å²ï¼Œæ˜¯Kinetic Artä¹‹ä¸»ï¼Œä¹Ÿæœ‰å¿—æˆä¸ºå‰ç«¯å¼€å‘çš„ä¸€å‘˜ã€‚
```

### æ ‡ç­¾æ¨¡æ¿

æ¨¡æ¿å­—ç¬¦ä¸²è¿˜å¯ä»¥ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°ååé¢ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œè¯¥å‡½æ•°çš„å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š

- ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª**æ•°ç»„**ï¼Œæ•°ç»„ä¸­å­˜æ”¾æ™®é€šçš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ `str` ä¸­çš„ `Welcome`ã€`to`ã€`course`ã€`.`ã€‚
- åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åçš„å‚æ•°ï¼Œéƒ½æ˜¯æ¯ä¸€ä¸ªå ä½ç¬¦çš„è§£é‡Šå€¼ï¼Œä¾‹å¦‚ `str` ä¸­çš„ `${name}`ã€‚

```js
function foo(strings, ...values) {
  return 54;
}

foo`What do you get if you multiply ${6} by ${9}?`; // 54

// In the foo function:
//   strings = ['What do you  get if you multiply ', ' by ', '?']
//   values[0] = 6
//   values[1] = 9
```

> æ ‡ç­¾æ¨¡æ¿ç”¨é€”ï¼š
>
> 1. ååŠ©è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œè¿‡æ»¤æœ‰å®³è¾“å…¥ï¼Œé˜²æ­¢XSS
>
> 2. åœ¨å›½é™…åŒ–å¤„ç†ä¸‹å¯¹å†…å®¹çš„ç‰¹æ®Šå¤„ç†
>
>    ```js
>    i18n `Hello ${name}, you have ${amount}:c in your bank account.`
>    // ä½ å¥½Bobï¼Œä½ æœ‰ï¿¥1,234.56åœ¨æ‚¨çš„éŠ€è¡Œå¸³æˆ¶ã€‚
>    ```
>
> 3. ç»„ä»¶çš„æ ·å¼å¤„ç†ï¼Œå¦‚Reactçš„styled-componentsåº“

## æ•°ç»„

æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ï¼Œæœ‰â€œä¸‹æ ‡->å€¼â€çš„å¯¹åº”ã€‚

> æ•°ç»„æ„å»ºï¼š
>
> 1. `new Array()`æ–¹æ³•ï¼›2. å­—é¢é‡æ–¹æ³•`[]`

```js
let arr=[]  //ç©ºæ•°ç»„å–ä»»æ„ä¸‹æ ‡ä¼šè¿”å›undefined(ä¸pythonä¸åŒï¼Œpythonä¼šæŠ¥é”™)
for(var i=0;i<10;i++){
    arr[i]=i+1   //èµ‹å€¼
}
console.log(arr)  //[1,2,3,4,5,6,7,8,9,10]
console.log(arr[3])  //å…ƒç´ è®¿é—®ã€‚è¾“å‡º4
console.log(arr[3]=2)  //å…ƒç´ æ”¹åŠ¨ï¼Œè¿”å›æ”¹åŠ¨åçš„å€¼ã€‚è¾“å‡º2
```

### æ•°ç»„å¸¸ç”¨å±æ€§

| å±æ€§   | é‡Šä¹‰                         |
| ------ | ---------------------------- |
| length | æ•°ç»„é•¿åº¦ï¼Œæ”¹åŠ¨ä¼šå½±å“æ•°ç»„é•¿åº¦ |

### æ•°ç»„å¤„ç†å…ƒç´ æ–¹æ³•

#### push()ï¼Œpop()

> push()  å‘æ•°ç»„`arr`æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šå…ƒç´ ï¼Œæ“ä½œè¿”å›æ–°æ•°ç»„é•¿åº¦ï¼Œæ•°ç»„*å˜æˆæ–°æ•°ç»„*
>
> pop()  åˆ é™¤æ•°ç»„æœ«å°¾çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ“ä½œè¿”å›è¢«åˆ é™¤çš„å…ƒç´ ï¼Œæ•°ç»„*å˜æˆæ–°æ•°ç»„*
>
> å¯ä»¥ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ç›´æ¥å®ç°æ ˆæ•°æ®ç»“æ„

```js
const arr = [5,4,3,2,1]

arr.push(0) // 6
arr //[5,4,3,2,1,0]

arr.push(-1,-2,-3) // 9
arr //[5,4,3,2,1,0,-1,-2,-3]

arr.pop() // -3
arr //[5,4,3,2,1,0,-1,-2]
```

#### unshift()ï¼Œshift()

> unshift()  å‘æ•°ç»„é¦–æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šå…ƒç´ ï¼Œæ“ä½œè¿”å›æ–°æ•°ç»„é•¿åº¦ï¼Œæ•°ç»„*å˜æˆæ–°æ•°ç»„*
>
> shift()  åˆ é™¤æ•°ç»„é¦–çš„ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›è¢«åˆ é™¤çš„å…ƒç´ ï¼Œæ•°ç»„*å˜æˆæ–°æ•°ç»„*
>
> å¯ä»¥ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ç›´æ¥å®ç°æ ˆæ•°æ®ç»“æ„ï¼Œä¹Ÿå¯ä»¥é…åˆä¸Šé¢`push()`ï¼Œ`pop()`æ–¹æ³•å®ç°é˜Ÿåˆ—æ•°æ®ç»“æ„

```js
const arr = [5,4,3,2,1]

arr.unshift(16,8,7,6) // 9
arr //[16,8,7,6,5,4,3,2,1]

arr.shift() // 16
arr //[8,7,6,5,4,3,2,1]
```

#### sort()

> å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ’åºã€‚ä¼šæ”¹å˜åŸæ•°ç»„ã€‚é»˜è®¤æŒ‰ç…§å­—ç¬¦çš„Unicodeçš„ä½ç½®è¿›è¡Œæ’åºã€‚å¯ä»¥ç”¨å‡½æ•°é™åˆ¶æ’åºæ–¹æ³•
>
> sortæ–¹æ³•æ¥å—ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ä½œä¸ºå‚æ•°,è¿™ä¸ªæ¯”è¾ƒå‡½æ•°ä¼šåœ¨sortå†…éƒ¨è¢«é‡å¤è°ƒç”¨,æ¥æ¯”è¾ƒæ•°ç»„ä¸­çš„å…ƒç´ ã€‚
>
> æ¯”è¾ƒå‡½æ•°æœ‰ä»¥ä¸‹ç‰¹ç‚¹:
>
> 1. æ¥æ”¶ä¸¤ä¸ªå‚æ•°,è¡¨ç¤ºè¦æ¯”è¾ƒçš„ä¸¤ä¸ªå…ƒç´ 
> 2. å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ åº”è¯¥æ’åœ¨ç¬¬äºŒä¸ªä¹‹å‰,è¿”å›ä¸€ä¸ªå°äº0çš„æ•°
> 3. å¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰,è¿”å›0
> 4. å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ åº”è¯¥æ’åœ¨ç¬¬äºŒä¸ªä¹‹å,è¿”å›ä¸€ä¸ªå¤§äº0çš„æ•°
> 5. æ ¹æ®æ¯”è¾ƒå‡½æ•°çš„è¿”å›å€¼,sortå¯ä»¥ç¡®å®šå…ƒç´ çš„ç›¸å¯¹é¡ºåº

```js
const arr = [10,4,2,35,13,7,6]

arr.sort() // [10, 13, 2, 35, 4, 6, 7]

arr.sort((a,b)=>a-b) // [2, 4, 6, 7, 10, 13, 35]
arr // [2, 4, 6, 7, 10, 13, 35]

arr.sort((a,b)=>b-a) //Â [35, 13, 10, 7, 6, 4, 2]
arr // [35, 13, 10, 7, 6, 4, 2]
```

> sortæ–¹æ³•å†…éƒ¨çš„å¤„ç†æµç¨‹æ˜¯:
>
> 1. åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆiã€jæŒ‡å‘æ•°ç»„èµ·å§‹ä½ç½®
> 2. æ¯”è¾ƒa[i]å’Œa[j]ä¸¤ä¸ªå…ƒç´ ,ä½¿ç”¨æ¯”è¾ƒå‡½æ•°
> 3. æ ¹æ®æ¯”è¾ƒç»“æœäº¤æ¢ä¸¤ä¸ªå…ƒç´ ä½¿å…¶æœ‰åº
> 4. i++,ç»§ç»­å’Œåç»­å…ƒç´ æ¯”è¾ƒ,ç›´åˆ°æ•°ç»„æœ«å°¾
> 5. j++,ç»§ç»­å’Œåç»­å…ƒç´ æ¯”è¾ƒ,ç›´åˆ°æ•°ç»„æœ«å°¾
> 6. é‡å¤æ­¥éª¤2-5,ç›´åˆ°æ•°ç»„æœ‰åº

```js
function transformSentence(sentence) {
  let words = sentence.split(' ');
  words.sort((a, b) => {
    if (a.length !== b.length) return a.length - b.length;
    if (a < b) return -1; 
    if (a > b) return 1;
    return 0;
  });
  let newSentence = [];
  newSentence.push(words[0][0].toUpperCase() + words[0].slice(1).toLowerCase());
  for (let i = 1; i < words.length; i++) {
    newSentence.push(words[i].toLowerCase());
  }
  return newSentence.join(' ');
}
```

#### reverse()

> åè½¬æ•°ç»„ï¼Œä¼šæ”¹å˜åŸæ•°ç»„ã€‚

```js
const arr = [1,3,2]

arr.reverse() // [2, 3, 1]
arr // [2, 3, 1]
```

#### æ•°ç»„è½¬å­—ç¬¦ä¸²

```js
const arr = [1,2,3,4,5,6,7]

arr.toString() //'1,2,3,4,5,6,7'

//1.+""
arr+"" //'1,2,3,4,5,6,7'
//2.æ¨¡æ¿å­—ç¬¦ä¸²
`${arr}` //'1,2,3,4,5,6,7'
//3.join(',')
arr.join(',') //'1,2,3,4,5,6,7'
//4.JSON.stringify()
JSON.stringify(arr) //'[1,2,3,4,5,6,7]'
arr //[1,2,3,4,5,6,7]
```

#### slice()

> åœ¨åŸæ•°ç»„ä¸­æå–æŸèŒƒå›´å…ƒç´ (åŒ…å«å¼€å¤´ä¸å«ç»“å°¾,ç±»ä¼¼python)ï¼Œå¹¶è¿”å›æ­¤æ•°ç»„ï¼ŒåŸå§‹å€¼ä¸å˜
>
> è¯­æ³•æ ¼å¼ï¼š`æ•°ç»„.slice(èµ·å§‹ä½ç½®ï¼Œç»ˆç‚¹ä½ç½®)`
>
> èµ·å§‹ä½ç½®ï¼Œç»ˆç‚¹ä½ç½®å¯æ­£å¯è´Ÿï¼Œå’Œpythonè§„åˆ™ç±»ä¼¼

```js
let arr = [1, 2, 3, 4, 5, 6, 7]

arr.slice(3) //[5,6,7]
arr.slice(-5) //[3,4,5,6,7]

arr.slice(2,5) //[3, 4, 5]
arr.slice(3,-2) //[4, 5]
arr.slice(-6,-1) //[2, 3, 4, 5, 6]

arr //[1, 2, 3, 4, 5, 6, 7]
```

#### splice()

> è¯­æ³•æ ¼å¼ï¼š`æ•°ç»„.splice(start,?deleteCount,...items)`
>
> 1. å°†åŸæ•°ç»„ä»ç´¢å¼•å€¼åˆ‡å¼€ï¼Œæ“ä½œè¿”å›è¢«åˆ çš„æ•°ç»„ï¼ŒåŸæ•°ç»„è¢«æˆªçŸ­è‡³ç´¢å¼•ä¹‹å‰ï¼š`arr.splice(èµ·å§‹å€¼)`
>
> 2. å°†åŸæ•°ç»„ä»èµ·å§‹å€¼åˆ‡å¼€ï¼Œæ“ä½œè¿”å›ä»èµ·å§‹å€¼å–`åˆ é™¤ä¸ªæ•°`ä¸ªå…ƒç´ çš„è¢«åˆ æ•°ç»„ï¼ŒåŸæ•°ç»„è¢«æ‹¿å»äº†è¢«åˆ é™¤æ•°ç»„ï¼š`arr.splice(èµ·å§‹å€¼,åˆ é™¤ä¸ªæ•°)`
>
> 3. å°†åŸæ•°ç»„ä»ç´¢å¼•å€¼æ·»åŠ ä¸€ä¸ªæˆ–å‡ ä¸ªå…ƒç´ ï¼Œä¸åˆ é™¤å…ƒç´ ï¼š`arr.splice(èµ·å§‹å€¼,0,...æ’å…¥å€¼)`
>
> 4. å°†åŸæ•°ç»„ä»ç´¢å¼•å€¼åˆ é™¤`åˆ é™¤ä¸ªæ•°`ä¸ªå…ƒç´ ï¼ŒåŒæ—¶æ·»åŠ ä¸€ä¸ªæˆ–å‡ ä¸ªå…ƒç´ ï¼š`arr.splice(èµ·å§‹å€¼,åˆ é™¤ä¸ªæ•°,...æ’å…¥å€¼)`

```js
let arr = [1, 2, 3, 4, 5, 6, 7]

arr.splice(2) //[3, 4, 5, 6, 7]
arr //[1, 2]

arr = [1, 2, 3, 4, 5, 6, 7]
arr.splice(3,2) //[4, 5]
arr //[1, 2, 3, 6, 7]

arr = [1, 2, 3, 4, 5, 6, 7]
arr.splice(2,0,30,40,50) //[]
arr //[1, 2, 30, 40, 50, 3, 4, 5, 6, 7]

arr = [1, 2, 3, 4, 5, 6, 7]
arr.splice(2,4,30,40,50) //[3,4,5,6]
arr //[1, 2, 30, 40, 50, 3, 4, 5, 6, 7]

arr = [1, 2, 30, 40, 50, 7]
```

å®ä¾‹ï¼šspliceæ–¹æ³•å®ç°æ•°ç»„å»é‡(`Es6`æ–¹æ³•<a href="#Set">ç‚¹è¿™é‡Œ</a>)

```js
arr = [1,2,2,3,3,3,4,4,4,4]
for(let i=0;i<arr.length;i++){
    for(let j=i+1;j<arr.length;j++){
        if(arr[i]==arr[j]){
            arr.splice(j,1)
            j--  //ç”±äºå‰©ä½™å…ƒç´ è¡¥ä½ï¼Œæˆ‘ä»¬è¿˜è¦å†æ¬¡æ¯”è¾ƒï¼Œå°±è¦ç´¢å¼•jè‡ªå‡ã€‚
        }
    }
}
console.log(arr)
```

#### concat()

> å°†ä¸¤ä¸ªæ•°ç»„è¿æ¥ï¼Œè¿”å›è¿æ¥åçš„æ€»æ•°ç»„

```

```

#### join()

> å°†æ•°ç»„æ‰€æœ‰å…ƒç´ ï¼Œä»¥æŒ‡å®šå­—ç¬¦ä¸²ä¸ºè¿æ¥ç¬¦ï¼Œè¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²

```js

```

#### flat()

> æ•°ç»„æ‰å¹³åŒ–å¤„ç†ï¼Œæ— å‚æ•°å¤„ç†ä¸€æ¬¡ï¼Œæœ‰å‚æ•°å¤„ç†å‚æ•°æ¬¡

```js
let arr = [1,2,3,[4,5],[[6,7]]]
arr.flat() //[1,2,3,4,5,[6,7]]
arr.flat(2) //[1,2,3,4,5,6,7]
arr.flat(Infinity) //ä¸€å®šèƒ½å‹ç¼©ä¸ºä¸€ç»´æ•°ç»„
```

### æ•°ç»„æŸ¥æ‰¾å¤„ç†æ–¹æ³•

| æ–¹æ³•      | é‡Šä¹‰                                     |
| --------- | ---------------------------------------- |
| at        | å–æ•°ç»„ä¸‹æ ‡ï¼Œæ”¯æŒè´Ÿæ•°                     |
| includes  | åˆ¤æ–­æŒ‡å®šå…ƒç´ å­˜ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å¸ƒå°”å€¼ |
| indexOf   | è¿”å›æŒ‡å®šå…ƒç´ çš„ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å›-1         |
| find      | å¯»æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´                  |
| findIndex | å¯»æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•   |

#### includes()

> åˆ¤æ–­æŒ‡å®šå…ƒç´ å­˜ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å¸ƒå°”å€¼

```js
let arr = ["ğŸ±", "ğŸ¶", "ğŸ°", "ğŸ", "ğŸ¦", "ğŸŸ"];

arr.includes("ğŸ") //true
arr.includes("ğŸ”") //false
```

#### indexOf()

> è¿”å›æŒ‡å®šå…ƒç´ çš„ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å›-1

```js
let arr = ["ğŸ±", "ğŸ¶", "ğŸ°", "ğŸ", "ğŸ¦", "ğŸŸ"];

arr.indexOf("ğŸ") //3
arr.indexOf("ğŸ”") //-1
```

#### find()

> å¯»æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ å¹¶è¿”å›ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªåˆ¤æ–­çš„å›è°ƒå‡½æ•°
>
> å‚æ•°æ˜¯è¢«éå†å…ƒç´ ï¼Œè¿”å›åˆ¤æ–­ç¬¦ä¸ç¬¦åˆæ¡ä»¶çš„å¸ƒå°”å€¼ã€‚ç¬¦åˆä¸ºtrueï¼Œåä¹‹ä¸ºfalseã€‚
>
> è‹¥æƒ³ä»å³å‘å·¦å¯»æ‰¾ï¼Œè¯·ä½¿ç”¨`findLast()`

```js
let arr =  [{name:"cat",icon:"ğŸ±"},{name:"dog",icon:"ğŸ¶"},{name:"rabbit",icon:"ğŸ°"},{name:"snake",icon:"ğŸ"},{name:"pig",icon:"ğŸ·"},{name:"bird",icon:"ğŸ¦"},{name:"zebra",icon:"ğŸ¦“"},{name:"fish",icon:"ğŸŸ"},{name:"dragon",icon:"ğŸ²"}];

arr.find(el=>el.icon === "ğŸ¶") // {name:"dog",icon:"ğŸ¶"}
arr // åŸæ•°ç»„
```

#### findIndex()

> å¯»æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•
>
> å‚æ•°æ˜¯è¢«éå†å…ƒç´ ï¼Œè¿”å›åˆ¤æ–­ç¬¦ä¸ç¬¦åˆæ¡ä»¶çš„å¸ƒå°”å€¼ã€‚ç¬¦åˆä¸ºtrueï¼Œåä¹‹ä¸ºfalseã€‚

```js
let arr =  [{name:"cat",icon:"ğŸ±"},{name:"dog",icon:"ğŸ¶"},{name:"rabbit",icon:"ğŸ°"},{name:"snake",icon:"ğŸ"},{name:"pig",icon:"ğŸ·"},{name:"bird",icon:"ğŸ¦"},{name:"zebra",icon:"ğŸ¦“"},{name:"fish",icon:"ğŸŸ"},{name:"dragon",icon:"ğŸ²"}];

arr.find(el=>el.name === "pig") // 4
arr // åŸæ•°ç»„
```

### æ•°ç»„éå†å¤„ç†æ–¹æ³•

![image-20230415210832175](./index.assets/image-20230415210832175.png)

1. è‡ªå†™å‡½æ•°

```js
for(i=0;i<arr.length;i++){
    //å…³äºarr[i]çš„æ“ä½œ
}
///ç¡®ä¿æ•°ç»„ä¸å˜æ—¶å¯ä»¥å†™ä¸º
for(i=0,l=arr.length;i<l;i++){
    //å…³äºarr[i]çš„æ“ä½œ
}
```

> è‹¥æ•°ç»„é•¿åº¦å›ºå®šï¼Œåˆ™ç”¨`for(i=0,l=arr.length;i<l;i++)`ä»¥å‡å°‘è®¡ç®—é‡ã€‚

2. æ•°ç»„è‡ªå¸¦éå†æ–¹æ³•

#### forEach()

> å¯¹æ•°ç»„æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒå‡½æ•°ï¼š`arr.forEach(callback)`
>
> `forEach`å›è°ƒå‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼šè¢«éå†å…ƒç´ ï¼Œè¢«éå†å…ƒç´ ç´¢å¼•(å¯é€‰ï¼Œ`Number`ç±»å‹)ï¼Œè¢«éå†æ•°ç»„æœ¬èº«(å¯é€‰)
>
> è¢«éå†å…ƒç´ ç´¢å¼•æ˜¯é™æ€çš„ï¼Œè€Œè¢«éå†æ•°ç»„å°±æ˜¯æ‰§è¡Œ`forEach()`æ–¹æ³•çš„æ•°ç»„ã€‚

```js
let arr = ["ğŸ±", "ğŸ¶", "ğŸ°", "ğŸ", "ğŸ·", "ğŸ¦", "ğŸ¶", "ğŸŸ"];

arr.forEach((val,idx,arr)=>{
    console.log(`åŠ¨ç‰©ï¼š${val}; ç´¢å¼•ï¼š${idx}; æ•°ç»„ï¼š[${arr}]`);
})

// åŠ¨ç‰©ï¼šğŸ±; ç´¢å¼•ï¼š0; æ•°ç»„ï¼š[ğŸ±,ğŸ¶,ğŸ°,ğŸ,ğŸ·,ğŸ¦,ğŸ¶,ğŸŸ]
// åŠ¨ç‰©ï¼šğŸ¶; ç´¢å¼•ï¼š1; æ•°ç»„ï¼š[ğŸ±,ğŸ¶,ğŸ°,ğŸ,ğŸ·,ğŸ¦,ğŸ¶,ğŸŸ]
// åŠ¨ç‰©ï¼šğŸ°; ç´¢å¼•ï¼š2; æ•°ç»„ï¼š[ğŸ±,ğŸ¶,ğŸ°,ğŸ,ğŸ·,ğŸ¦,ğŸ¶,ğŸŸ]
// åŠ¨ç‰©ï¼šğŸ; ç´¢å¼•ï¼š3; æ•°ç»„ï¼š[ğŸ±,ğŸ¶,ğŸ°,ğŸ,ğŸ·,ğŸ¦,ğŸ¶,ğŸŸ]
// åŠ¨ç‰©ï¼šğŸ·; ç´¢å¼•ï¼š4; æ•°ç»„ï¼š[ğŸ±,ğŸ¶,ğŸ°,ğŸ,ğŸ·,ğŸ¦,ğŸ¶,ğŸŸ]
// åŠ¨ç‰©ï¼šğŸ¦; ç´¢å¼•ï¼š5; æ•°ç»„ï¼š[ğŸ±,ğŸ¶,ğŸ°,ğŸ,ğŸ·,ğŸ¦,ğŸ¶,ğŸŸ]
// åŠ¨ç‰©ï¼šğŸ¶; ç´¢å¼•ï¼š6; æ•°ç»„ï¼š[ğŸ±,ğŸ¶,ğŸ°,ğŸ,ğŸ·,ğŸ¦,ğŸ¶,ğŸŸ]
// åŠ¨ç‰©ï¼šğŸŸ; ç´¢å¼•ï¼š7; æ•°ç»„ï¼š[ğŸ±,ğŸ¶,ğŸ°,ğŸ,ğŸ·,ğŸ¦,ğŸ¶,ğŸŸ]
```

#### map()

> ä¸`forEach`ä½œç”¨ç›¸åŒï¼Œä¸åŒçš„æ˜¯å¯è¿”å›ç»å¤„ç†åçš„æ–°æ•°ç»„ï¼š`arr.map(callback)`
>
> åœ¨å›è°ƒå‡½æ•°ä¸­å€¼å‚æ•°ç»å¤„ç†åä¸€èˆ¬è¦è¿”å›ã€‚åŒºåˆ«å»çœ‹ï¼š[æ•°ç»„é‡ŒforEachå’ŒMapçš„åŒºåˆ«](https://www.jianshu.com/p/c62dee189e95)

```js
let arr = ["ğŸ±", "ğŸ¶", "ğŸ°", "ğŸ", "ğŸ·", "ğŸ¦", "ğŸ¦“", "ğŸŸ"];

let arr2 = arr.map((val,idx)=>{
    return {index:`${idx}`,icon:val}
})

arr2//[{index:"0",icon:"ğŸ±"},{index:"1",icon:"ğŸ¶"},{index:"2",icon:"ğŸ°"},{index:"3",icon:"ğŸ"},{index:"4",icon:"ğŸ·"},{index:"5",icon:"ğŸ¦"},{index:"6",icon:"ğŸ¦“"},{index:"7",icon:"ğŸŸ"}];

/* ======= è“æ¡¥æ¯æ¨¡æ‹Ÿé¢˜ï¼šå¹³åœ°èµ·é«˜æ¥¼, æˆ‘çš„é¢˜è§£ï¼ˆä¸è¶³äº”è¡Œï¼‰======= */
function convertToTree(regions, rootId = "0") {
    // TODO: åœ¨è¿™é‡Œå†™å…¥å…·ä½“çš„å®ç°é€»è¾‘
    // å°†å¹³é“ºçš„ç»“æ„è½¬åŒ–ä¸ºæ ‘çŠ¶ç»“æ„ï¼Œå¹¶å°† rootId ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹æ•°ç»„è¿”å›
    // å¦‚æœä¸å­˜åœ¨ rootId ä¸‹çš„å­èŠ‚ç‚¹ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„
    function traverseNode(regionArr, parentId) {
        return regionArr.filter(el => el.pid === parentId) //åªå–ç¬¦åˆæŒ‡å®šçˆ¶å…ƒç´ å€¼çš„å…ƒç´ 
            //ç»™å‰©ä¸‹çš„å…ƒç´ åŠ ä¸ªå­©å­æ•°ç»„ï¼Œå€¼é€šè¿‡é€’å½’è°ƒç”¨è·å–
            .map(el => (el.children = traverseNode(regionArr, el.id), el)) 
    } return traverseNode(regions, rootId) || null
}
```

#### flatMap()

> `flatMap` æ–¹æ³•æ˜¯å…ˆæ‰§è¡Œ `map`ï¼Œç„¶åå†æ‰§è¡Œ `flat`ã€‚
>
> è¿™ä¸ªæ–¹æ³•é¦–å…ˆå¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå°†å‡½æ•°çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚æ¥ä¸‹æ¥ï¼Œå®ƒä¼šå°†è¿™ä¸ªæ–°æ•°ç»„å‹ç¼©æˆä¸€ä¸ªç»´åº¦ï¼Œç›¸å½“äºæ‰§è¡Œä¸€æ¬¡ `flat` æ“ä½œã€‚å› æ­¤ï¼Œ`flatMap` çš„æ“ä½œç›¸å½“äºå…ˆæ‰§è¡Œ `map`ï¼Œå†æ‰§è¡Œä¸€æ¬¡ `flat`ã€‚
>
> å¯ä»¥å°† `flatMap` çœ‹ä½œæ˜¯ `map` å’Œ `flat` ä¸¤ä¸ªæ–¹æ³•çš„ç»„åˆï¼Œå®ƒå¯ä»¥åœ¨ä¸å¢åŠ æ•°ç»„ç»´åº¦çš„æƒ…å†µä¸‹å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œå˜æ¢å’Œæ‰å¹³åŒ–æ“ä½œã€‚

#### reduce()

> å¯¹æ•°ç»„ç´¯è®¡é‡å’Œæ•°ç»„å½“å‰å…ƒç´ è¿›è¡Œå¤„ç†ï¼Œè¿”å›å•ä¸ªå€¼
>
> å‡½æ•°å½¢å‚æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯åˆå€¼ã€‚
>
> å›è°ƒå‡½æ•°æ˜¯æœ‰å››ä¸ªå‚æ•°ï¼šæ€»å€¼å…ƒç´ ï¼Œè¢«éå†å…ƒç´ ï¼Œè¢«éå†å…ƒç´ ç´¢å¼•(å¯é€‰)ï¼Œè¢«éå†æ•°ç»„æœ¬èº«(å¯é€‰)
>
> åˆå€¼æœ‰ä¸¤ç§æƒ…å†µï¼š
>
> 1. ä¸ºç©ºï¼Œæ­¤æ—¶ç¬¬ä¸€æ¬¡éå†æ—¶ï¼Œæ€»å€¼å…ƒç´ å½¢å‚æ˜¯ç¬¬ä¸€ä¸ªè¢«éå†å…ƒç´ ï¼Œè¢«éå†å…ƒç´ å½¢å‚æ˜¯ç¬¬äºŒä¸ªè¢«éå†å…ƒç´ ï¼Œæ€»å…±éå†`n-1`æ¬¡
> 2. ä¸ä¸ºç©ºï¼Œæ­¤æ—¶ç¬¬ä¸€æ¬¡éå†æ—¶ï¼Œæ€»å€¼å…ƒç´ å½¢å‚æ˜¯åˆå€¼ï¼Œè¢«éå†å…ƒç´ å½¢å‚æ˜¯ç¬¬ä¸€ä¸ªè¢«éå†å…ƒç´ ï¼Œæ€»å…±éå†`n`æ¬¡
>
> è‹¥æƒ³ä»å³å‘å·¦éå†ï¼Œè¯·ä½¿ç”¨`reduceRight()`
>
> reduceæ–¹æ³•æœ‰å¾ˆå¤šé«˜çº§ä½¿ç”¨æ–¹æ³•ï¼Œè¯¦æƒ…çœ‹ï¼š[25ä¸ªä½ ä¸å¾—ä¸çŸ¥é“çš„æ•°ç»„reduceé«˜çº§ç”¨æ³• - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/106656582)

##### æ±‚æ€»å’Œæ€»ç§¯

```js
let arr = [1,2,3,4,5,6,7,8,9,10]

arr.reduce((a,b)=>{return a+b}) //æ€»å’Œï¼š55
arr.reduce((a,b)=>{return a*b}) //æ€»ç§¯ï¼š3628800

/***å°è£…å‡½æ•°***/
const TotalSum(...numArr) => numArr.reduce((a,b)=>{return a+b})
const TotalMultiply(...numArr) => numArr.reduce((a,b)=>{return a*b})
```

##### ç»™æŒ‡å®šç±»åˆ«è®¡æ•°

```js
let arr = [1,4,4,2,2,2,8,5,5,7,7,7] //ä¸ºå…­ç§æ•°è®¡æ•°

arr.reduce((whole,part)=>{ //ç®€æ´å†™æ³•ï¼ŒåŸå†™æ³•å¯å‚ç…§ä¸‹é¢æ¯”èµ›ä¸ªäººè§£ç‰‡æ®µ
    return ( whole[part] = (whole[part]||0) + 1 ),whole
},{})
// {1: 1, 2: 3, 4: 2, 5: 2, 7: 3, 8: 1}

/*=======è“æ¡¥æ¯æ¨¡æ‹Ÿé¢˜ï¼šæ°´æœæ¶ˆæ¶ˆä¹, æˆ‘çš„è§£çš„ç‰‡æ®µ=======*/
//è¿›è¡Œæ¶ˆé™¤åˆ¤æ–­
let curId = (function (arr) { //curIdæ˜¯å½“å‰å·²ç»é›†é½3ä¸ªçš„æ°´æœå…ƒç´ çš„ç±»åˆ«å·
    let id = arr.reduce((prev, cur) => { //å¯¹ç±»åˆ«åˆ†ç±»
        (`${cur.getAttribute('data-id')}` in prev)
            ? prev[`${cur.getAttribute('data-id')}`]++ //æ»¡è¶³æ¡ä»¶åˆ†æ”¯
        : prev[`${cur.getAttribute('data-id')}`] = 1  //ä¸æ»¡è¶³æ¡ä»¶åˆ†æ”¯
        return prev
    }, {})
    return Object.entries(id).filter((el) => { //è¿‡æ»¤æ‰æ²¡æœ‰é›†é½3ä¸ªçš„æ°´æœå…ƒç´ ç±»åˆ«
        return el[1] >= 3
    }).map(el => el[0])?.[0] //åªå–å±æ€§å
})(cardArr) //cardArræ˜¯å®¹çº³å·²å…‹éš†èŠ‚ç‚¹ï¼ˆæ°´æœå…ƒç´ ï¼‰çš„æ•°ç»„ï¼Œæ¯ä¸ªæ°´æœå…ƒç´ éƒ½æœ‰data-idå±æ€§è¡¨æ˜å…¶æ¶ˆé™¤ç±»åˆ«
```

**å¸¦æŸ¥æ‰¾ç´¢å¼•**

```js
let arr = [1,4,4,2,2,2,8,5,5,7,7,7] //ä¸ºå…­ç§æ•°è®¡æ•°

arr.reduce((whole,part,idx)=>{ //ç®€æ´å†™æ³•ï¼ŒåŸå†™æ³•å¯å‚ç…§ä¸‹é¢å†…å®¹
    return !whole[part]&& (whole[part]={times:0,pos:[]}),
        whole[part].times++,
        whole[part].pos.push(idx), 
        whole
},{})// {  
//    1: {times:1,pos:[0]},
//    2: {times:3,pos:[3,4,5]},
//    4: {times:2,pos:[1,2]},
//    5: {times:2,pos:[7,8]},
//    7: {times:3,pos:[9,10,11]},
//    8: {times:1,pos:[6]}
// }  
```

##### å¯¹å·²æœ‰æ•°æ®åˆ†ç±»

```js
let res = [
    {rdID:'rd20221101',rdType:"Teacher",rdDept:"CS"},
    {rdID:'rd20210901',rdType:"Teacher",rdDept:"NE"},
    {rdID:'rd20220315',rdType:"Student",rdDept:"NE"},
    {rdID:'rd20200123',rdType:"Student",rdDept:"BD"},
    {rdID:'rd20190510',rdType:"Professor",rdDept:"BD"},
],
groupType = "rdDept" //ä¸ºè¯»è€…åå•æŒ‰ç…§â€œè¯»è€…é™¢ç³»â€è¿›è¡Œåˆ†ç±»

res.reduce((whole,part)=>{ //ç®€æ´å†™æ³•ï¼ŒåŸå†™æ³•å¯å‚ç…§ä¸‹é¢å†…å®¹
    return !whole[part[groupType]] && (whole[part[groupType]]=[]),
        whole[part[groupType]].push(part),
        whole
},{})
```

##### å¯¹åº”ä½ç½®æ•°ç»„å½’ç±»

```js
function Unzip(arr = []) {
    return arr.reduce(
        (t, v) => (v.forEach((w, i) => t[i].push(w)), t),
        Array.from({ length: Math.max(...arr.map(v => v.length)) }).map(v => [])
    );
}
const arr = [["a", 1, true], ["b", 2, false]];
Unzip(arr); // [["a", "b"], [1, 2], [true, false]]
```

##### è¿”å›å¯¹è±¡æŒ‡å®šé”®å€¼

```js
function GetKeys(obj = {}, keys = []) {
    return Object.keys(obj).reduce((t, v) => (keys.includes(v) && (t[v] = obj[v]), t), {});
}
const target = { a: 1, b: 2, c: 3, d: 4 };
const keyword = ["a", "d"];
GetKeys(target, keyword); // { a: 1, d: 4 }
```

##### æ•°ç»„å¤„ç†

```js
//1.æ‰å¹³åŒ–
const Flat = (arr) => arr.reduce((t, v) => t.concat(Array.isArray(v) ? Flat(v) : v), [])

```

**ä¸‹åˆ—æ–¹æ³•çš„å›è°ƒå‡½æ•°è¦è¿”å›å¸ƒå°”å€¼ï¼**

#### filter()

> å¯¹æ¯ä¸ªå…ƒç´ åˆ¤æ–­æ˜¯ä¸æ˜¯æ»¡è¶³å‡½æ•°æ¡ä»¶ï¼Œè¿”å›è¿‡æ»¤åçš„æ•°ç»„
>
> å‚æ•°æ˜¯è¢«éå†å…ƒç´ ï¼Œå›è°ƒå‡½æ•°è¿”å›åˆ¤æ–­ç¬¦ä¸ç¬¦åˆæ¡ä»¶çš„å¸ƒå°”å€¼ã€‚ç¬¦åˆä¸ºtrueï¼Œåä¹‹ä¸ºfalseã€‚

```js
let arr = [...new Array(10).keys()]

arr.filter(el => el>5) //[6,7,8,9]
arr //[0,1,2,3,4,5,6,7,8,9]
```

#### every()

> å¯¹==æ¯ä¸ªå…ƒç´ ==åˆ¤æ–­æ˜¯ä¸æ˜¯==éƒ½æ»¡è¶³==å‡½æ•°æ¡ä»¶
>
> å‚æ•°æ˜¯è¢«éå†å…ƒç´ ï¼Œå›è°ƒå‡½æ•°è¿”å›åˆ¤æ–­ç¬¦ä¸ç¬¦åˆæ¡ä»¶çš„å¸ƒå°”å€¼ã€‚ç¬¦åˆä¸ºtrueï¼Œåä¹‹ä¸ºfalseã€‚
>
> è‹¥æ¯ä¸ªå…ƒç´ çš„å¯¹åº”è¿”å›å€¼ä¸ºtrueï¼Œåˆ™è¿”å›trueï¼Œåä¹‹ä¸ºfalse

```js
let arr = [...new Array(30).keys()]

function isPrime(num){
    if(m<=1){return false}
    for(let i=2;i<=parseInt(Math.sqrt(num));i++){
        if((m%i)===0){return false}
    }return true
}

arr.every(el=>isPrime(el)) //false
```

#### some()

> å¯¹æ¯ä¸ªå…ƒç´ åˆ¤æ–­æ˜¯ä¸æ˜¯==è‡³å°‘ä¸€ä¸ªæ»¡è¶³==å‡½æ•°æ¡ä»¶
>
> å‚æ•°æ˜¯è¢«éå†å…ƒç´ ï¼Œå›è°ƒå‡½æ•°è¿”å›åˆ¤æ–­ç¬¦ä¸ç¬¦åˆæ¡ä»¶çš„å¸ƒå°”å€¼ã€‚ç¬¦åˆä¸ºtrueï¼Œåä¹‹ä¸ºfalseã€‚
>
> è‹¥å­˜åœ¨è‡³å°‘ä¸€ä¸ªå…ƒç´ çš„å¯¹åº”è¿”å›å€¼ä¸ºtrueï¼Œåˆ™è¿”å›trueï¼Œåä¹‹ä¸ºfalse

```js
let arr = [....new Array(30).keys()]

arr.some(el=>isPrime(el)) //true
```

### æ³¨æ„ç‚¹

> ES5çš„éå†æ–¹æ³•éƒ½ä¼š==ä¸éå†ç©ºå€¼==ï¼Œè€ŒES6ä¼šæŠŠ==æ•°ç»„ç©ºä½ä¹Ÿéå†==ï¼Œå‡ ä¸ªè¿ç»­ç©ºå€¼çš„å€¼æ˜¯ä¸€ä¸ªundefined

```js
let arr = [1,2,,,3,,,4,5,,,6,,,7] //é•¿åº¦ä¸º15
arr //[1, 2, ç©º *2, 3, ç©º *2, 4, 5, ç©º *2, 6, ç©º *2, 7]

arr.filter((el)=>{return true}) //ç­‰ä»·äº arr.filter((el)=>{return el})

for(let el of arr){
    console.log(el)
}
```

### ES6æ•°ç»„æ‹“å±•

#### Array.isArray()

> åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä¸æ˜¯æ•°ç»„

#### Array.of()

> ä¸`Array()`æ„é€ å‡½æ•°ä¸åŒï¼Œ`Array.of()` é‡Œé¢çš„å†…å®¹éƒ½ä¼šè¢«å½“ä½œæ•°ç»„çš„å…ƒç´ 
>
> è¯­æ³•æ ¼å¼ï¼š`Array.of(element 0, element 1, ..., element N)`

```js
Array.of(1) //[1]
```

#### Array.from()

> å¯ä»¥å°†ä»¥ä¸‹ä¸¤ç±»å¯¹è±¡è½¬ä¸ºæ•°ç»„ã€‚
>
> 1. ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆarray-like-objectï¼‰
>
> 2. å¯éå†çš„å¯¹è±¡ï¼ˆiterable-objectï¼‰
>
>    `Arrayã€Mapã€Setã€Stringã€TypedArrayã€å‡½æ•°çš„ arguments å¯¹è±¡ã€NodeList å¯¹è±¡ã€iterator`
>
>  è¯­æ³•æ ¼å¼ï¼š`Array.from(å¾…è½¬æ¢çš„å¯¹è±¡);`

```js
let arrLike = {
  0: "ğŸ",
  1: "ğŸ",
  2: "ğŸŠ",
  3: "ğŸ‡",
  length: 4,
};
var arr = Array.from(arrLike);
console.log("arrï¼š" + arr); // arrï¼šğŸ,ğŸ,ğŸŠ,ğŸ‡
```

> ç„¶è€Œï¼Œé™¤äº†åšè½¬æ¢æ•°ç»„çš„å·¥ä½œå¤–ï¼Œ`Array.from()`è¿˜æ”¯æŒæ¯”è¾ƒå¤æ‚çš„åˆå§‹åŒ–çš„æ“ä½œã€‚
>
> å®Œæ•´å‚æ•°ä¸ºï¼š`Array.from(arrayLike[, mapFn[, thisArg]])`
>
> 1

```js
const centroids = data.slice(0, k);
const distances = Array.from({ length: data.length }, () =>
	Array.from({ length: k }, () => 0)
);
```

## æ‰©å±•è¿ç®—ç¬¦

æ‰©å±•è¿ç®—ç¬¦çš„ä½œç”¨æ˜¯å°†æ•°ç»„/å­—ç¬¦ä¸²/å¯¹è±¡æ‹†å¼€æ¥ï¼Œæ¯ä¸ªå…ƒç´ /å±æ€§é—´ç”¨é€—å·éš”å¼€ã€‚

å¯ä»¥é€šè¿‡å®ƒæ¥æ‹·è´åŸæ•°ç»„ï¼Œä»¥é˜²æ”¹åŠ¨åŸæ•°æ®ã€‚

ä¹Ÿå¯ä»¥ç”¨å®ƒæ¥åˆå¹¶æ•°ç»„/å¯¹è±¡ã€‚è¿˜å¯ä»¥æ¥<a href="#Iteratoræ¥å£">è°ƒç”¨éå†å™¨æ¥å£</a>ã€‚

```js
let a = [3,4]
let b = a
a === b //true
let c = [...a]
a === c //false

let a = {x:1,y:2}
let b = {...a,z:3} // {x:1,y:2,z:3}

//å­—ç¬¦ä¸²æ‹†è§£ä¸ºæ•°ç»„å…ƒç´ 
let arr = [..."qwertyuiop"] //['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p']
```

> åªæœ‰å‡½æ•°è°ƒç”¨æ—¶ï¼Œæ‰©å±•è¿ç®—ç¬¦æ‰å¯ä»¥æ”¾åœ¨åœ†æ‹¬å·ä¸­ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

å®ä¾‹ï¼šåˆå¹¶æ•°ç»„

```js
let arr1=[1,4], arr2=[2,8,5], arr3=[7]
let arr4 = [...arr1,...arr2,...arr3]

arr4  //[1,4,2,8,5,7]

console.log(...arr4)  //1 4 2 8 5 7
//è¿™æ ·ä¼ å…¥console.log()ä¼šåœ¨è¾“å‡ºæ—¶çœç•¥é€—å·ä¸ºç©ºæ ¼
```

## å¯¹è±¡åŸºç¡€

åˆ›å»ºæ–¹æ³•ä¸€(newæ–¹æ³•)ï¼š`var obj = new Object();`

åˆ›å»ºæ–¹æ³•äºŒ(å¯¹è±¡å­—é¢é‡æ–¹æ³•)ï¼š`var obj = {key1 :value1, key2:value2,...}`

> å®šä¹‰å¯¹è±¡å­—é¢é‡æ—¶ï¼Œå¦‚æœä½ å®šä¹‰çš„æœ‰ä¸¤ä¸ªåç§°ç›¸åŒçš„é”®ï¼Œåˆ™å…ˆå‰çš„å±æ€§çš„é”®å€¼ä¼šè¢«æ›¿æ¢æ‰ã€‚

å›æ”¶å¯¹è±¡ï¼š`obj = null`

> å¯¹è±¡å­—é¢é‡å¯ä»¥åœ¨åˆ›å»ºå¯¹è±¡æ—¶ç›´æ¥æŒ‡å®šå¯¹è±¡ä¸­çš„å±æ€§
>
> å¯¹è±¡å­—é¢é‡çš„å±æ€§åå¯ä»¥åŠ å¼•å·ä¹Ÿå¯ä»¥ä¸åŠ ï¼Œå»ºè®®ä¸åŠ ã€‚å¦‚æœè¦ä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„åå­—ï¼Œåˆ™å¿…é¡»åŠ å¼•å·ã€‚

**æ·»åŠ å±æ€§**ï¼š`obj.key = value` 

**è¯»å–å±æ€§**ï¼š`obj.key`(å¦‚æœè¯»å–å¯¹è±¡ä¸­æ²¡æœ‰çš„å±æ€§ï¼Œä¸ä¼šæŠ¥é”™è€Œæ˜¯ä¼šè¿”å›undefined)

**ä¿®æ”¹å±æ€§**ï¼š`obj.key = newValue`

**åˆ é™¤å±æ€§**ï¼šä½¿ç”¨deleteå…³é”®å­—ï¼Œå¦‚`delete obj.key`

```js
var LiZiMing = new Object();
LiZiMing.occupicion=student;     //æ·»åŠ å±æ€§
LiZiMing.age:9;
LiZiMing.gender:male;
//LiZiMing ={occupicion:student,age:9,gender:male}

console.log(LiZiMing.age)        //è¯»å–å±æ€§
//9

LiZiMing.occupicion=teacher;     //ä¿®æ”¹å±æ€§
LiZiMing.age:25;
//LiZiMing ={occupicion:teacher,age:25,gender:male}

delete LiZiMing.age              //åˆ é™¤å±æ€§
//LiZiMing ={occupicion:teacher,age:25}
```

**å±æ€§å**ä¸€èˆ¬è¦æŒ‰ç…§æ ‡è¯†ç¬¦çš„è§„èŒƒå‘½åã€‚ä¸å¯å¸¦ç©ºæ ¼æˆ–å…¶ä»–ç‰¹æ®Šå­—ç¬¦ã€‚

å¦‚æœè¦ä½¿ç”¨ç‰¹æ®Šçš„å±æ€§åï¼Œä¸èƒ½é‡‡ç”¨.çš„æ–¹å¼æ¥æ“ä½œéœ€è¦ä½¿ç”¨å¦ä¸€ç§æ–¹å¼:

è¯­æ³•:`å¯¹è±¡["å±æ€§å"]=å±æ€§å€¼`ã€‚è¯»å–æ—¶ä¹Ÿéœ€è¦é‡‡ç”¨è¿™ç§æ–¹å¼

```js
let shs = {
    surname:"æ²™",
    "last name":"å’Œå°š"
}
console.log(shs["last name"])   //å’Œå°š
```

> ä½¿ç”¨[]è¿™ç§å½¢å¼å»æ“ä½œå±æ€§,æ›´åŠ çš„çµæ´»ï¼Œ
>
> åœ¨[]ä¸­å¯ä»¥ç›´æ¥ä¼ é€’ä¸€ä¸ªå˜é‡ï¼Œè¿™æ ·å˜é‡å€¼æ˜¯å¤šå°‘å°±ä¼šè¯»å–é‚£ä¸ªå±æ€§

**å±æ€§å€¼**å¯ä¸ºåŒ…æ‹¬å¯¹è±¡çš„ä»»æ„ä¸€ä¸ªæ•°æ®ç±»å‹ã€‚

å±æ€§åå’Œå±æ€§å€¼æ˜¯ä¸€ç»„ä¸€ç»„çš„åå€¼å¯¹ç»“æ„, åå’Œå€¼ä¹‹é—´ä½¿ç”¨:è¿æ¥ï¼Œå¤šä¸ªåå€¼å¯¹ä¹‹é—´ä½¿ç”¨â€œ,â€éš”å¼€å¦‚æœä¸€ä¸ªå±æ€§ä¹‹åæ²¡æœ‰å…¶ä»–çš„å±æ€§äº†ï¼Œå°±ä¸è¦å†™â€œ,â€

**æ£€éªŒå¯¹è±¡æŸå±æ€§å€¼æ˜¯å¦å­˜åœ¨**ï¼šinè¿ç®—ç¬¦ï¼š`"å±æ€§å" in å¯¹è±¡`

æ­¤è¿ç®—ç¬¦å¯ä»¥æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡ä¸­æ˜¯å¦å«æœ‰æŒ‡å®šçš„å±æ€§ã€‚å¦‚æœæœ‰åˆ™è¿”å›trueï¼Œæ²¡æœ‰åˆ™è¿”å›false

**å¯¹è±¡çš„æ–¹æ³•**æ˜¯æŸä¸€å¯¹è±¡çš„

**éå†å¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•**ï¼š`for ... in` å¾ªç¯ï¼š

```js
var cxk = {
    age:3,
    hobby:"å”±ã€è·³ã€rapã€ç¯®çƒ",
    motto(){console.log("é¸¡ä½ å¤ªç¾ï¼")},
    practiceTime:2.5,    
}
for (let item in cxk)
    console.log(`${item}=${cxk.item}`)
```

### å¯¹è±¡ç®€å†™

Es6ä¸“å±ç‰¹æ€§ï¼Œååˆ†ç®€å•ã€‚

```js
//å±æ€§ç®€å†™
var glasses = false, height = 178 ,motto ='Just do it!';
var Zhou_ShuYu = {glasses,height,motto}
//æ–¹æ³•ç®€å†™
var JiangHao = {
    name:'JiangHao',
    age:18,
    intro(){
        return 'æˆ‘æ˜¯'+this.name+'ï¼Œ'+'ä»Šå¹´'+this.age+'äº†ã€‚'
    }
}
```

### å­—é¢é‡å˜é‡å±æ€§

```js
const _ = 'default'

let http_manage = {
    [200]:'success',
    [400]:'bad request',
    [403]:'forbidden',
    [404]:'not found',
    [500]:'server error',
    [_]:"unexpected error"
}

http_manage[404] //not found
http_manage["default"] //unexpected error
```

### å¯¹è±¡æ•°æ®çš„éå†æ–¹æ³•

> Objectä¹Ÿæœ‰éå†æ•°æ®çš„å“åº”æ–¹æ³•ï¼Œä¸è¿‡å®ƒç›´æ¥è¿”å›æ•°ç»„ã€‚æœ‰ä»¥ä¸‹å››ç§ï¼š
>
> 1. `Object.keys(obj)`ï¼šè¿”å›å…³äºæ‰€æœ‰è¯¥å¯¹è±¡çš„==é”®å==çš„æ•°ç»„
> 2. `Object.values(obj)`ï¼šè¿”å›å…³äºæ‰€æœ‰è¯¥å¯¹è±¡çš„==é”®å€¼==çš„æ•°ç»„
> 3. `Object.entries(obj)`ï¼šè¿”å›å…³äºæ‰€æœ‰è¯¥å¯¹è±¡çš„==é”®å€¼å¯¹==çš„äºŒç»´æ•°ç»„
> 4. `Object.fromEntries(obj)`ï¼šç”±è¯¥å¯¹è±¡çš„==é”®å€¼å¯¹==çš„äºŒç»´æ•°ç»„*ç”Ÿæˆå¯¹åº”å¯¹è±¡*

![](./index.assets/202202022108228.jpg)

### å¯¹è±¡çš„getterã€setterå±æ€§

getå±æ€§ä¼šåœ¨è®¿é—®å±æ€§æ—¶æ‹¦æˆªé»˜è®¤åŠ¨ä½œï¼Œå…¶è®¾ç½®çš„å‡½æ•°ä¼šåœ¨æ­¤æ—¶æ‰§è¡Œã€‚

setå±æ€§ä¼šåœ¨è®¾ç½®å±æ€§æ—¶æ‹¦æˆªé»˜è®¤åŠ¨ä½œï¼Œå…¶è®¾ç½®çš„å‡½æ•°ä¼šåœ¨æ­¤æ—¶æ‰§è¡Œã€‚

```js
var car = {
    _speed:30,//zç§æœ‰å±æ€§
    get speed(){//å–å€¼å‡½æ•°
        console.log("ç°åœ¨æ—¶é€Ÿæ˜¯ï¼š")
        return `${this._speed}`
    },
    set speed(speed0){//è®¾ç½®å‡½æ•°
        if(speed0>0){
            this._speed = speed0
            console.log("speed has changed!")
        }else{
            alert('speed must be positive!')
            return false
        }
    }
}

console.log(car.speed) //30
car.speed=-10  //æŠ¥é”™
car.speed=44 //speed has changed!
console.log(car.speed) //44
```

### ES6å¯¹è±¡æ–¹æ³•æ‹“å±•

#### `Object.is()`

> `==`å’Œ`===`ä¸èƒ½åˆ¤æ–­ä¸¤å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œéœ€è¦ç”¨`Object.is()`æ–¹æ³•åˆ¤æ–­

```js
//ç”¨æ³•ï¼šObject.is(objA,objB)
const objA = {a:1,b:2,c:3}, objC = objA
const objB = {a:1,b:2,c:3}

Object.is(objA,objB) //false
Object.is(objA,objC) //true
```

#### `Object.assign()`

> ç”¨æ¥åˆå¹¶å¤šä¸ªå¯¹è±¡
>
> å¦‚æœç¬¬ä¸€ä¸ªå¯¹è±¡å†…æœ‰çš„å±æ€§ä¸ç¬¬äºŒå¯¹è±¡å†…çš„å±æ€§==æœ‰é‡å¤==ï¼Œç¬¬äºŒå¯¹è±¡çš„å±æ€§ä¼š==è¦†ç›–æ‰==ç¬¬ä¸€å¯¹è±¡çš„å±æ€§ï¼ˆ*é‡å¤è€…åè¦†å‰*ï¼‰

```js
const objA = {a:1,b:2,c:3}
const objB = {x:4,y:5,z:6}
const objC = {m:7,n:8,z:9}

Object.assign(objA,objA) //{a:1,b:2,c:3}
Object.assign(objA,objB) //{a:1,b:2,c:3,x:4,y:5,z:6}
Object.assign(objA,objB,objC) //{a:1,b:2,c:3,m:7,n:8,x:4,y:5,z:9}
```

## å‡½æ•°åŸºç¡€

### ç§ç±»

```js
//1.å‡½æ•°å£°æ˜
function fn(a){
    return a // æ³¨æ„returnåé¢ä¸è®¸æ¢è¡Œï¼Œå¦åˆ™ä¼šè¢«ç¼–è¯‘æˆreturn undefinedè¿”å›undefinedã€‚
} // fn.name æ˜¯'fn'

//2.å‡½æ•°è¡¨è¾¾å¼
const fn1 = function(b){
    return b
}

//3.ç«‹å³æ‰§è¡Œå‡½æ•°
//ä¸ºä¸æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨IIFEæ³•æ¥éšè—å®ç°æŒ‡å®šä»£ç ã€‚
(function(num1,num2,num3){
	return num1+num2+num3
})(3,5,7)    //åŒ¿åå‡½æ•°è‡ªè°ƒç”¨
```

### ç®­å¤´å‡½æ•°

ç®­å¤´å‡½æ•°é€»è¾‘æ¸…æ™°æ˜äº†ï¼Œä¸è¿‡å®ƒä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«å¦‚ä¸‹ï¼š

1. *æ²¡æœ‰å®ƒçš„`this`*ï¼Œè€Œæ˜¯ä¼šæ•è·ä¸Šä¸‹æ–‡çš„`this`ä½œä¸ºè‡ªå·±çš„`this`ï¼Œä½¿ç”¨`call`, `apply`, `bind`å¹¶ä¸ä¼šæ”¹å˜ç®­å¤´å‡½æ•°ä¸­çš„`this`æŒ‡å‘ã€‚
2. *ä¸å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°*ï¼Œä¹Ÿä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™åæŠ›å‡ºé”™è¯¯ã€‚
3. *æ²¡æœ‰`arguments`*ï¼Œå–è€Œä»£ä¹‹ç”¨restå‚æ•°ã€‚*ä¹Ÿæ²¡æœ‰`super`å’Œ`new.target`*ã€‚è¿™äº›å€¼ç”±å¤–å›´æœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°å†³å®šã€‚
4. *æ²¡æœ‰`prototype`å±æ€§*ã€‚ç”±äºä¸å¯ä»¥é€šè¿‡newå…³é”®å­—è°ƒç”¨ï¼Œæ‰€ä»¥æ²¡æœ‰æ„å»ºåŸå‹çš„éœ€æ±‚ï¼Œæ‰€ä»¥ç®­å¤´å‡½æ•°æ²¡æœ‰prototypeå±æ€§ã€‚
5. *å…³é”®å­—yieldä¸å¯ç”¨ï¼Œä¸å¯ç”¨åšç”Ÿæˆå™¨*ã€‚ä¸è¿‡å¯ç”¨å…³é”®å­—`await`, å¯ä½œä¸ºå¼‚æ­¥å‡½æ•°ä½¿ç”¨ã€‚

```js
let myFunc = å‚æ•° => {  //è¡¨è¾¾å¼  }  //ç®­å¤´å‡½æ•°å½¢å¼
myFunc()   //è°ƒç”¨

const myFunc1 = () => { return 'hello world'}  //å®ä¾‹  
```

> ä»¥ä¸‹ä¸ºç®­å¤´å‡½æ•°å‚æ•°çš„å‡ ç§æƒ…å†µ
>
> 1. `()=>è¡¨è¾¾å¼`  
> 1. `å‚æ•°=> è¡¨è¾¾å¼`ã€ä¸€å…ƒå‡½æ•°å¯çœç•¥æ‹¬å·ã€‘  
> 1. `(å‚æ•°1,å‚æ•°2,å‚æ•°3,...)=> è¡¨è¾¾å¼`
>
> ä»¥ä¸‹ä¸ºç®­å¤´å‡½æ•°å‡½æ•°ä½“çš„å‡ ç§æƒ…å†µ
>
> 1. `()=>å•ä¸ªè¡¨è¾¾å¼` 
> 1. `()=>{å¤šä¸ªè¡¨è¾¾å¼}`

```js
// è¦ç®­å¤´å‡½æ•°è¿”å›å¯¹è±¡çš„å†™æ³•ç®€å•ç‚¹ï¼Œè®°å¾—ç”¨åœ†æ‹¬å·æŠŠå¯¹è±¡å­—é¢é‡åŒ…èµ·æ¥
()=>[] // æ­£ç¡®
()=>{} // ç©ºå‡½æ•°ï¼Œæ— æ³•è¿”å›å¯¹è±¡
()=>{ return {}} // å¯è¿”å›ä¸€ä¸ªç©ºå¯¹è±¡
()=>({}) // æ›´ç®€å•åœ°è¿”å›ä¸€ä¸ªç©ºå¯¹è±¡
```

### é»˜è®¤å‚æ•°

è™½è¯´è¿™æ˜¯Es6æ–°å¢å†…å®¹ï¼Œä½†å…¶ä»–è¯­è¨€ä¹Ÿæœ‰ã€‚

å®ƒä¸»è¦è§£å†³æ²¡æœ‰å®šä¹‰çš„å‚æ•°(undefined)çš„é—®é¢˜ï¼Œä¸ç®¡èµ‹äº†å€¼è€Œå¸ƒå°”å€¼ä¸ºfalseçš„å®å‚ã€‚

é»˜è®¤å€¼å¯ä»¥ä¸ºå€¼ï¼Œä¹Ÿå¯ä»¥ä¸ºè¡¨è¾¾å¼ã€‚

```js
function fn(x,y=5){  //æœ‰é»˜è®¤å€¼çš„åœ¨å³ã€‚
    return x+y
}

fn(10,10) //20
fn(10,0)  //10
fn(10)    //15
```

å¯ä»¥æ­é…<a href="#å˜é‡è§£æ„">Es6çš„è§£æ„å˜é‡</a>ä¸€èµ·ä½¿ç”¨

```js
function addOn([x,y=0]){return x+y}
function minusOn({x,y=0}){return x-y}

addOn([1,2]) //3
addOn([1])  //1
minusOn({x:2,y:2})  //0
minusOn({x:2})   //2

//è¿™æ ·å†™ä¹Ÿä¸€æ ·
let arr = [1,2], obj = {x:2,y:2}
addOn(arr) //3
minusOn(obj)   //0

//è§£æ„å˜é‡ä¹Ÿå¯ä»¥ç”¨é»˜è®¤å‚æ•°ã€‚
function addOn([x,y=0]=[0]){return x+y}
function minusOn({x=0,y=0}={}){return x-y}
```

![](./index.assets/202202022108220.jpg)

### arguments

> æ˜¯ä¼ªæ•°ç»„ï¼Œä¸“é—¨ç”¨äºä¼ é€’å‡½æ•°å®å‚ã€‚å…¶å±æ€§å¦‚ä¸‹ã€‚
>
> **ä¼ªæ•°ç»„**ç±»ä¼¼æ•°ç»„ï¼Œå¯ä»¥è®¿é—®lengthå±æ€§å’Œç”¨ç´¢å¼•è®¿é—®å€¼ï¼Œæ²¡æœ‰æ•°ç»„çš„å¤§å¤šæ•°æ–¹æ³•ï¼Œå¦‚`{length:10}`

| å±æ€§     | é‡Šä¹‰            |
| -------- | --------------- |
| `callee` | è¿”å›å½“å‰å‡½æ•°    |
| `length` | argumentsçš„é•¿åº¦ |

ä¸ºäº†è¦å®ƒç”¨åˆ°äº†æ•°ç»„æ–¹æ³•ï¼Œå¾—å…ˆæŠŠå®ƒè½¬åŒ–ä¸ºæ•°ç»„æ‰è¡Œï¼ˆ`Array.from(arguments)`ï¼‰ã€‚Es6æŠŠå®ƒçš„åŠŸèƒ½äº¤ç»™äº†<a href="#å‰©ä½™å‚æ•°">å‰©ä½™å‚æ•°(æ˜¯çœŸæ•°ç»„)</a>ã€‚

### å‰©ä½™å‚æ•°

å‡½æ•°å½“ä¸­ï¼Œå¯ä»¥ç”¨`...å‚æ•°æ•°ç»„`æ¥è¡¨ç¤ºå¤šä½™çš„ï¼Œä¸å®šçš„å‚æ•°ç»„æˆçš„æ•°ç»„ã€‚

```js
function learnMultipleMoves(pokemon,...moves){  //å‰©ä½™å‚æ•°
    console.log(`${pokemon}å­¦ä¼šäº†ä¸‹é¢çš„æ‹›å¼ï¼š`);
    const res = moves.map((move,idx)=>[`ç¬¬${idx}æ‹›ï¼š`,move])
    return res
}
learnMultipleMoves('flareon',"å¤§å­—çˆ†ç‚","ç«èŠ±","ç”µå…‰ä¸€é—ª","å«å£°")
```

### å·¥å‚å‡½æ•°

ä¸“é—¨ç”Ÿäº§æ‰¹é‡å¯¹è±¡çš„å‡½æ•°ï¼Œä¸èƒ½ç»†åˆ†ç±»åˆ«ï¼ˆæ— å…·ä½“ç±»å‹ï¼‰ã€‚

```js
const student = (name,age,grade,mark) =>{
    return{
        name:name,
        age:age,
        grade:grade,
        mark:mark,
        overview:()=>{
            alert(`${name}åŒå­¦æ˜¯${grade}å¹´çº§${age}å²çš„å­¦ç”Ÿ`) //h
        }
    }
}
var MaQianJun = student(MaQianJun,19,'å¤§ä¸€',96)
```

### æ„é€ å‡½æ•°

ä¸“é—¨ç”Ÿäº§æ‰¹é‡æŸä¸€ç±»å‹å¯¹è±¡çš„å‡½æ•°ï¼Œå¯ä»¥ç»†åˆ†ç±»åˆ«ã€‚thisæŒ‡å‘å®ä¾‹å¯¹è±¡ã€‚

åœ¨æ„é€ å‡½æ•°ç”¨newå£°æ˜æ—¶(`new Foo(...)`)ï¼Œæ„é€ å‡½æ•°å†…çš„thisä¼šå¼•ç”¨ä¸€ä¸ªç©ºå¯¹è±¡(`{}`)ï¼›

è€Œæ²¡æœ‰ç”¨newå£°æ˜æ—¶ï¼Œæ„é€ å‡½æ•°ä¼šå¼•ç”¨å…¨å±€å¯¹è±¡ã€‚

```js
const Dog = function(name,age,breed){
    this.name:name;
    this.age:age;
    this.breed:breed;
    this.bark:function(){
        console.log("Woof!");
    }
}
var Samoyed = new Dog(Jake,3,'è¨æ‘©è€¶')   //æ³¨æ„è¦ç”¨newæ¥æ„é€ ã€‚
```

## Set

Setï¼Œé¡¾åæ€ä¹‰æ˜¯é›†åˆçš„æ„æ€ã€‚æ˜¯ç±»ä¼¼äºæ•°ç»„çš„æ•°æ®ç»“æ„ã€‚é‡Œé¢çš„æ•°æ®ä¿è¯ä¸é‡å¤

```js
let abc = new Set()    //æ–°Setæ„é€ æ–¹æ³•
abc.add([1,2,3,4,5])
//æˆ–è€…
let abc = new Set([1,2,2,2,3,4,4,5])
abc.forEach(e=>console.log(e))  //1ã€2ã€3ã€4ã€5æ¯è¡Œä¸€ä¸ª
abc.size      //5
```

Setæ„é€ å¯æ¥å—æœ‰iteratorç»“æ„çš„æ•°æ®ç»“æ„ï¼Œå®ƒä¼šæ’é™¤é‡å¤å€¼ã€‚å…·ä½“è§„åˆ™æ˜¯ä¼šæŠ›å¼ƒé™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„å…ƒç´ å¤–çš„æ‰€æœ‰é‡å¤å…ƒç´ ï¼Œä¿ç•™é¡ºåºã€‚

### å­—ç¬¦ä¸²å»é‡

```js
let str =new Set("The quick brown fox jumps over the lazy dog")

[...str].join("")  // 'The quickbrownfxjmpsvtlazydg'
str.size // 28
```

### æ•°ç»„å»é‡

```js
let arr1 = [3,3,3,5,6,5,1,2,3,1,5]       //è±è‰èŠ±

[...new Set(arr1)] //[3, 5, 6, 1, 2]
Array.from(new Set(arr1)) //[3, 5, 6, 1, 2]

arr2 = [...new Set(arr1)] //[3, 5, 6, 1, 2]
```

### Setå±æ€§æ–¹æ³•

| å±æ€§æˆ–æ–¹æ³•   | é‡Šä¹‰                                                    |
| ------------ | ------------------------------------------------------- |
| `size`       | è¿”å›è¯¥é›†åˆæœ‰å¤šå°‘å…ƒç´                                     |
| `add(å€¼)`    | æ·»åŠ æŒ‡å®šå€¼ï¼Œè¿”å›å¤„ç†åçš„Setï¼Œæ·»åŠ é‡å¤å€¼åˆ™ä¸ä¼šæç¤ºæˆ–æŠ¥é”™ |
| `delete(å€¼)` | åˆ é™¤æŒ‡å®šå€¼ï¼Œè¿”å›å¤„ç†åçš„Set                             |
| `has(å€¼)`    | åˆ¤æ–­æŒ‡å®šå€¼æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›çœŸå‡                            |
| `clear()`    | æ¸…é™¤é›†åˆæ‰€æœ‰å…ƒç´                                         |

`Array.from()`å¯ä»¥å°†æŒ‡å®šé›†åˆè½¬åŒ–ä¸ºæ•°ç»„ã€‚

### Setéå†æ–¹æ³•

| æ–¹æ³•        | é‡Šä¹‰                                                   |
| ----------- | ------------------------------------------------------ |
| `keys()`    | è¿”å›é”®åçš„éå†å™¨                                       |
| `values()`  | è¿”å›é”®å€¼çš„éå†å™¨                                       |
| `entries()` | è¿”å›é”®å€¼å¯¹çš„éå†å™¨                                     |
| `forEach()` | è§[æ•°ç»„éƒ¨åˆ†](#forEach())ï¼Œä¸ºå…¶ä¸­æ¯ä¸ªé”®å€¼å¯¹è¿›è¡Œéå†æ“ä½œ |

## Map

æ‰€æœ‰å¯¹è±¡çš„é”®ï¼ˆä¸åŒ…æ‹¬ Symbolï¼‰åœ¨åº•å±‚éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œ

å³ä½¿æ˜¯ç”¨å¯¹è±¡ä½œä¸ºé”®åï¼Œä¹Ÿä¼šè°ƒç”¨`Object.prototype.toString()`è½¬ä¸ºå­—ç¬¦ä¸²`[object Object]`ã€‚

Mapä¸å¯¹è±¡ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å‚¨å­˜é”®å€¼å¯¹ï¼Œä¸è¿‡*é”®çš„å†…å®¹ä¸å†å±€é™äºå­—ç¬¦ä¸²*ã€‚

æ­¤å¤–Mapå®ç°äº†â€œå¹³å‡è®¿é—®æ—¶é—´ä¸é›†åˆä¸­çš„å…ƒç´ æ•°é‡å‘ˆæ¬¡çº¿æ€§å…³ç³»â€œ çš„ç‰¹æ€§ï¼Œå¯ä»¥å……å½“å“ˆå¸Œè¡¨ä½¿ç”¨ã€‚

```js
const mp = new Map()            //æ–°Mapæ„é€ æ–¹æ³•
let obj = {name:"Liu Zeen"}

mp.set(1,"Es6")
mp.set("ä¸¾å¤´æœ›æ˜æœˆ","æœˆæ˜¯æ•…ä¹¡æ˜")
mp.set(obj,2314)
console.log(mp)                                             //ç»“æœè§ä¸‹å›¾
console.log(mp.get(1),mp.get(obj),mp.get("ä¸¾å¤´æœ›æ˜æœˆ"))      //ç»“æœè§ä¸‹å›¾

let i = 1
console.log(mp.get(i),mp.get(i)==mp.get(1))         //Es6 true
```

![](./index.assets/202202022108226.jpg)

ä¸Setä¸€æ ·ï¼ŒMapæ„é€ ä¹Ÿå¯æ¥å—æœ‰iteratorç»“æ„çš„æ•°æ®ç»“æ„ã€‚

### æ•°ç»„è½¬Map

```js
const mp1 = new Map([['jack',4098],['sape', 4139]])  //äºŒç»´æ•°ç»„
//ç›¸å½“äºï¼š
const mp1 = new Map()
mp1.set('jack',4098).set('sape', 4139)
```

![](./index.assets/202202022108227.jpg)

### å¯¹è±¡è½¬Map

å¯¹è±¡æ²¡æœ‰è¯¥æ¥å£ï¼Œå¯æ˜¯å¯ä»¥ç”¨`Object.entries()`æ¥è½¬åŒ–ã€‚

```js
let obj = {name:"Sun Xiaocuan", motto:"NM$L"}        //å¯¹è±¡
const mp2 = new Map(Object.entries(obj)) 
//ç›¸å½“äºï¼š
function objCovMap(obj){
    let mp = new Map()
    for(let i of Object.keys(obj)){
        mp.set(i,obj[i])
    }
    return mp
}
const mp2 = objCovMap(obj)
```

### Setè½¬Map

```js
let abc = new Set([1,2,2,2,3,4,4,5])                //Setæ•°æ®ç±»å‹
const mp3 = new Map(abc)

const mp4 = new Map(mp1)                            //Mapå¥—å¨ƒ
console.log(mp3.has('jack'),mp3.get('jack'))        //true 4098
```

**Mapä¸å…¶ä»–æ•°æ®ç±»å‹çš„è½¬åŒ–æ‰‹æ®µå¦‚ä¸‹ï¼š**

### Mapè½¬æ•°ç»„

```js
//1.Map -> æ•°ç»„
let arr1 =[...mp1]
```

### Mapè½¬å¯¹è±¡

```js
//2.Map -> å¯¹è±¡
function mapCovObj(map){
    let obj = {}
    for(let [a,b] of map){
        obj[a] = b
    }
    return obj
}
let obj1 = mapCovObj(mp2)
```

### Mapçš„å±æ€§å’Œæ–¹æ³•

| å±æ€§æˆ–æ–¹æ³•   | é‡Šä¹‰                             |
| ------------ | -------------------------------- |
| `size`       | è¿”å›è¯¥Mapå¯¹è±¡æœ‰å¤šå°‘å…ƒç´           |
| `set(é”®,å€¼)` | æ·»åŠ æŒ‡å®šé”®å€¼å¯¹ï¼Œè¿”å›å¤„ç†åçš„Map  |
| `get(é”®)`    | è¯»å–æŸä¸€é”®ï¼Œè¿”å›å¯¹åº”å€¼           |
| `delete(é”®)` | åˆ é™¤æŒ‡å®šé”®å€¼å¯¹ï¼Œè¿”å›å¤„ç†åçš„Map  |
| `has(é”®)`    | åˆ¤æ–­æŒ‡å®šé”®å€¼å¯¹æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›çœŸå‡ |
| `clear()`    | æ¸…é™¤Mapå¯¹è±¡æ‰€æœ‰é”®å€¼å¯¹            |

### Mapçš„éå†æ–¹æ³•

| æ–¹æ³•        | é‡Šä¹‰                                                   |
| ----------- | ------------------------------------------------------ |
| `keys()`    | è¿”å›é”®åçš„éå†å™¨                                       |
| `values()`  | è¿”å›é”®å€¼çš„éå†å™¨                                       |
| `entries()` | è¿”å›é”®å€¼å¯¹çš„éå†å™¨                                     |
| `forEach()` | è§[æ•°ç»„éƒ¨åˆ†](#forEach())ï¼Œä¸ºå…¶ä¸­æ¯ä¸ªé”®å€¼å¯¹è¿›è¡Œéå†æ“ä½œ |

### Mapæ³¨æ„ç‚¹

> é’ˆå¯¹**å¯¹è±¡æ•°æ®ç±»å‹**è€Œè¨€ï¼Œçœ‹ä¼¼ä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡å®é™…ä¸Š**æœ‰ç€ä¸åŒçš„å†…å­˜åœ°å€**ã€‚å¯¹äºä½œä¸ºMapé”®å€¼çš„å¯¹è±¡**åªå…³å¿ƒå¯¹è±¡åœ°å€**ã€‚
>
> æ‰€ä»¥å³ä½¿Mapå¯¹è±¡setå’Œgetæ–¹æ³•è·å¾—çš„æ˜¯ç›¸åŒçš„å¯¹è±¡ï¼Œå®ƒè¿˜æ˜¯ä¸ä¼šè¯»å–åˆ°è¯¥å€¼ï¼Œå°±ä¼šè¿”å›undefinedã€‚
>
> å¯¹è±¡ä½œä¸ºå¯¹è±¡çš„é”®å€¼ä¼šè½¬ä¸ºå­—ç¬¦ä¸²`'object Object'`ï¼Œæ‰€ä»¥ä¸¤ä¸ªç»™å®šåœ°å€çš„å¯¹è±¡åœ¨å¯¹è±¡è¯»å–ä¼šå–åˆ°ç›¸åŒå€¼ï¼Œè€Œåœ¨Mapè¯»å–ä¼šæ˜¯ä¸åŒå€¼ã€‚

```js
const mp = new Map()
let obj = {name:"Liu Zeen"}

mp.set(obj,2314).set({name:"Guan Renchao"},1324)
mp.get({name:"Liu Zeen"}) // undefined 
mp.get({name:"Guan Renchao"}) // undefined 

const a = {a:1}, b = {a:1}, c = a, d = new Map([ [a,1], [b,2] ])
d.get(a) // 1
d.get(b) // 2
d.get(c) // 1

/* ç°åœ¨åˆ é™¤bçš„aå±æ€§ */
delete b.a
d.get(b) // 2
b // {}
```

> Mapçš„ç±»ä¼¼API `WeakMap`åªèƒ½ä»¥å¯¹è±¡ä¸ºkeyï¼Œåªèƒ½å®è¡Œå¯¹æŸä¸ªè¿˜å­˜åœ¨çš„keyçš„å¢åˆ æ”¹æŸ¥çš„æ“ä½œï¼Œæ— æ³•è°ƒç”¨æ¸…ç©ºæ–¹æ³•ï¼ˆ`.clear()`ï¼‰ã€‚
>
> `WeakMap` å¯¹ key æ˜¯å¼±å¼•ç”¨ï¼Œä¸å½±å“åƒåœ¾å›æ”¶å™¨çš„å·¥ä½œã€‚
>
> æ¢å¥è¯è¯´ï¼Œåªæœ‰æˆ‘ä»¬æœ‰äº†`WeakMap`å®ä¾‹å’Œæˆå‘˜å¯¹è±¡æœ¬èº«æ‰èƒ½è·å–å…¶å€¼ã€‚ä¸€æ—¦ key è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼Œé‚£ä¹ˆå¯¹åº”çš„é”®å’Œå€¼å°±è®¿é—®ä¸åˆ°äº†ã€‚
>
> æ‰€ä»¥ `WeakMap` ç»å¸¸ç”¨äºå­˜å‚¨é‚£äº›åªæœ‰å½“ key æ‰€å¼• ç”¨çš„å¯¹è±¡å­˜åœ¨æ—¶ï¼ˆæ²¡æœ‰è¢«å›æ”¶ï¼‰æ‰æœ‰ä»·å€¼çš„ä¿¡æ¯

```js
/** ä¸»è¦è¿ç”¨1ï¼š ç±»å¯¹è±¡çš„ä¼ªç§æœ‰å±æ€§ */
const _counter = new WeakMap();
const _action = new WeakMap();

class Countdown {
  constructor(counter, action) {
    _counter.set(this, counter);
    _action.set(this, action);
  }
  dec() {
    let counter = _counter.get(this);
    counter--;
    _counter.set(this, counter);
    if (counter === 0) {
      _action.get(this)();
    }
  }
}

// The two pseudo-properties are truly private:
assert.deepEqual(Object.keys(new Countdown()),[]);

let invoked = false;
const cd = new Countdown(3, () => invoked = true);

cd.dec(); assert.equal(invoked, false);
cd.dec(); assert.equal(invoked, false);
cd.dec(); assert.equal(invoked, true);

/** ä¸»è¦è¿ç”¨2ï¼š ç¼“å­˜å¤„ç†ç»“æœ */
const cache = new WeakMap();
function countOwnKeys(obj) {
  if (cache.has(obj)) {
    return [cache.get(obj), 'cached'];
  } else {
    const count = Object.keys(obj).length;
    cache.set(obj, count);
    return [count, 'computed'];
  }
}
// If we use this function with an object obj, you can see that the result is only computed for the first invocation, while a cached value is used for the second invocation:

const obj = { foo: 1, bar: 2};
countOwnKeys(obj) // [2, 'computed']
countOwnKeys(obj) // [2, 'cached']
```

> è™½ç„¶ JavaScript å¯¹è±¡åœ¨è®¸å¤šæƒ…å†µä¸‹å¯ä»¥æä¾›ä¸ `Map` ç±»ä¼¼çš„å¿«æ·é”®å€¼å¯¹è®¿é—®ï¼Œä½†åœ¨æ€§èƒ½å’Œç‰¹æ€§ä¸Šï¼Œ`Map` å¯¹è±¡é€šå¸¸æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼š
>
> 1. `Map` å¯ä»¥ä¿è¯é”®çš„æ’å…¥é¡ºåºï¼Œè€Œæ™®é€šå¯¹è±¡çš„é”®åˆ™æŒ‰ç…§ç‰¹å®šçš„é¡ºåºæ’åˆ—ï¼ˆæ•´æ•°é”®æŒ‰æ•°å€¼æ’åºï¼Œå…¶ä»–é”®æŒ‰æ’å…¥é¡ºåºæ’åºï¼‰ã€‚
> 2. `Map` çš„é”®å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬å¯¹è±¡ï¼Œè€Œæ™®é€šå¯¹è±¡çš„é”®ä»…é™äºå­—ç¬¦ä¸²å’Œ `Symbol`ã€‚
> 3. `Map` æä¾›äº† `size` å±æ€§æ¥è·å–å…ƒç´ æ•°é‡ï¼Œè€Œæ™®é€šå¯¹è±¡åˆ™æ²¡æœ‰ã€‚
> 4. `Map` å¯¹è±¡çš„è¿­ä»£æ€§èƒ½é€šå¸¸ä¼˜äºæ™®é€šå¯¹è±¡ï¼Œå°¤å…¶æ˜¯åœ¨åŒ…å«å¤§é‡é”®å€¼å¯¹çš„æƒ…å†µä¸‹ã€‚
>
> å› æ­¤ï¼Œåœ¨éœ€è¦è¿›è¡Œå¤§é‡æŸ¥æ‰¾æ“ä½œæ—¶ï¼Œä½¿ç”¨ `Map` å¯¹è±¡é€šå¸¸ä¼šå¾—åˆ°æ›´å¥½çš„æ€§èƒ½å’Œæ›´æœ‰ç”¨çš„ç‰¹æ€§ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¦‚æœä¸éœ€è¦ `Map` çš„è¿™äº›é¢å¤–ç‰¹æ€§ï¼Œæ™®é€šå¯¹è±¡ä¾ç„¶å¯ä»¥ä½œä¸ºæŸ¥æ‰¾è¡¨æ¥ä½¿ç”¨ã€‚
